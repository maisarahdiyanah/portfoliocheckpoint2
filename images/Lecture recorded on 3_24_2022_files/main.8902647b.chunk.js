(this.webpackJsonpplayer=this.webpackJsonpplayer||[]).push([[0],{162:function(e,t,r){},163:function(e,t,r){},164:function(e,t,r){},165:function(e,t,r){},167:function(e,t,r){},168:function(e,t,r){},169:function(e,t,r){},171:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),s=r(12),i=r.n(s),o=(r(69),r(4)),l=r(6),c=r(8),d=r(7),p=r(18),u=r.n(p),h=(r(80),r(81),r(1)),m=function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){if(!1===this.props.data.recording.canManage)return null;var e="";return!1===this.props.data.recording.published&&(e="unpublished-notice"),Object(h.jsxs)("div",{className:"admin-header Header content-header",children:[Object(h.jsxs)("div",{className:e,children:[!1===this.props.data.recording.published?"Recording is not published - only managers can see it.":null,this.props.data.recording?Object(h.jsxs)("div",{className:"manage-buttons",children:[Object(h.jsx)("a",{className:"btn",href:"/leccap/manage/recording/edit/"+this.props.data.recording.sitekey+"/"+this.props.data.recording.id,children:"Manage Recording"}),Object(h.jsx)("a",{className:"btn",href:"/leccap/manage/site/info/"+this.props.data.recording.sitekey,children:"Manage Site"})]}):null]}),Object(h.jsx)("span",{className:"clearfix"})]})}}]),r}(a.Component),f=m,b={};function g(e,t){return t?function(){return e.call(t)}:e}b.delay=function(e,t,r){return setTimeout(g(t,r),e)},b.interval=function(e,t,r){return setInterval(g(t,r),e)},b.sec2hmsArray=function(e){var t;return e=Math.floor(e),[t=parseInt(e/3600,10),parseInt(e/60,10)-60*t,e%60]},b.sec2hms=function(e){return b.sec2hmsArray(e).join(":").replace(/\b\d\b/g,(function(e){return 0===+e?"00":e<10?"0"+e:e})).replace(/(^00:)|(^0)/,"")},b.getPage=function(e){return{x:(e=e.originalEvent||e).pageX?e.pageX:e.touches&&e.touches[0].pageX,y:e.pageY?e.pageY:e.touches&&e.touches[0].pageY}},b.getPageX=function(e){return b.getPage(e).x},b.getPageY=function(e){return b.getPage(e).y},b.offset=function(e){var t=e.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft,a=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+a,left:t.left+r}},b.getOffset=function(e,t){var r;t=t||window.document,r=b.getPage(e);var a=b.offset(t);return{x:r.x-a.left,y:r.y-a.top}},b.getOffsetX=function(e,t){return b.getOffset(e,t).x},b.getOffsetY=function(e,t){return b.getOffset(e,t).y},b.getElementRelativeOffset=function(e,t){var r=b.offset(e),a=b.offset(t);return{x:r.left-a.left,y:r.top-a.top}},b.getElementRelativeOffsetX=function(e,t){return b.getElementRelativeOffset(e,t).x},b.getElementRelativeOffsetY=function(e,t){return b.getElementRelativeOffset(e,t).y},b.getIndexofThingByTime=function(e,t){for(var r=0,a=0;a<t.length&&e>=t[a][1];a++)r=a;return r},b.getThingByTime=function(e,t){return t[b.getIndexofThingByTime(e,t)]},b.getImageUrl=function(e,t,r){return null===r?null:e+"/"+r},b.emit=function(e,t){document.dispatchEvent(new CustomEvent(e,{detail:t}))},b.call=function(e,t,r,a){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&r(n)},window.location.href.includes("localhost")?e="//leccap-beta.engin.umich.edu"+e:window.location.href.includes("3000")&&(e="//"+window.location.hostname+e),window.location.href.includes("leccap_api")&&(e=e.replace("/leccap/","/leccap_api/")),"POST"===a&&(n.open("POST",e,!0),e.indexOf("player/api")>0?(n.setRequestHeader("Content-Type","text/plain"),n.send(JSON.stringify(t))):(n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(b.toUrlEncoded(t)))),"GET"===a&&(n.open("GET",e),n.send())},b.callPost=function(e,t,r){b.call(e,t,r,"POST")},b.callGet=function(e,t){b.call(e,null,t,"GET")},b.callApi=function(e,t,r,a){for(var n="",s=window.location.href.split("/"),i=s.length-1;i>=0;i--)""!==(n=s[i])&&(i=-1);var o="/leccap/player/api/"+e+"/?rk="+n.replace("?","&");b.call(o,t,r,a)},b.callApiPost=function(e,t,r){b.callApi(e,t,r,"POST")},b.callApiGet=function(e,t){b.callApi(e,null,t,"GET")},b.toUrlEncoded=function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")},b.storageAvailable=function(e){try{var t=window[e],r="__storage_test__";return t.setItem(r,r),t.removeItem(r),!0}catch(a){return a instanceof DOMException&&(22===a.code||1014===a.code||"QuotaExceededError"===a.name||"NS_ERROR_DOM_QUOTA_REACHED"===a.name)&&0!==t.length}},b.localStorageGet=function(e,t){return!!b.storageAvailable("localStorage")&&(e="CAEN_VIEWER_#1.0.0:"+e,localStorage.getItem(e))},b.localStorageRemove=function(e){return b.storageAvailable("localStorage")&&(e="CAEN_VIEWER_#1.0.0:"+e,localStorage.removeItem(e+".expiry"),localStorage.removeItem(e)),!0},b.localStorageSet=function(e,t,r){if(b.storageAvailable("localStorage")){if(e="CAEN_VIEWER_#1.0.0:"+e,!0===r){var a=new Date,n=Math.round(a.setSeconds(a.getSeconds()+259200)/1e3);localStorage.setItem(e+".expiry",n)}return localStorage.setItem(e,t)}return!1},b.localStorageClean=function(){b.storageAvailable("localStorage")&&console.log("Cleaning!")},b.isPromise=function(e){return!!e&&("object"===typeof e||"function"===typeof e)&&"function"===typeof e.then},b.checksum=function(e){var t,r=0,a=e.length;if(0===a)return r;for(t=0;t<a;t++)r=(r<<5)-r+e.charCodeAt(t),r&=r;return r};var v,y=b,j=["title","titleId"];function w(){return w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},w.apply(this,arguments)}function x(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function O(e,t){var r=e.title,n=e.titleId,s=x(e,j);return a.createElement("svg",w({enableBackground:"new 0 0 14 14",height:14,viewBox:"0 0 14 14",width:14,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),r?a.createElement("title",{id:n},r):null,v||(v=a.createElement("path",{d:"m0 6h14v2h-14z"})))}var k,S=a.forwardRef(O),H=(r.p,["title","titleId"]);function E(){return E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},E.apply(this,arguments)}function P(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function R(e,t){var r=e.title,n=e.titleId,s=P(e,H);return a.createElement("svg",E({enableBackground:"new 0 0 14 14",height:14,viewBox:"0 0 14 14",width:14,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),r?a.createElement("title",{id:n},r):null,k||(k=a.createElement("path",{d:"m14 6h-6v-6h-2v6h-6v2h6v6h2v-6h6z"})))}var A=a.forwardRef(R),N=(r.p,r(83),function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(o.a)(this,r),(a=t.call(this,e)).buttonPressed=function(e){var t=JSON.parse(JSON.stringify(a.props.data.visiblePresets));if(e.indexOf("wb")>-1){e=parseInt(e.substring(2),10);for(var r=t.whiteboard.length-1;r>=0;r--)t.whiteboard[r].visible=r===e&&!t.whiteboard[r].visible}else e=parseInt(e.substring(2),10),t.stage[e].visible=!t.stage[e].visible;a.props.updatePlayerState({visiblePresets:t})},a.state={buttons:[]},a}return Object(l.a)(r,[{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{id:"sourcebar",children:[this.props.data.visiblePresets.stage.map((function(t,r){return Object(h.jsx)(I,{sourceIndex:r,subArrayKey:"st"+r,visible:t.visible,label:t.name,onButtonToggle:e.buttonPressed,onSizePress:e.changeSize,resizeable:e.props.data.visiblePresets.stage.length>1},r)}),this),this.props.data.visiblePresets.whiteboard.map((function(e,t){return Object(h.jsx)(I,{sourceIndex:t+this.props.data.visiblePresets.stage.length,subArrayKey:"wb"+t,visible:e.visible,label:e.name,onButtonToggle:this.buttonPressed},"wb"+t)}),this),Object(h.jsx)(T,{show:this.props.data.recording.info.captions.length>0,data:this.props.data,propertyToToggle:"transcript",updatePlayerState:this.props.updatePlayerState,children:"Transcript"}),Object(h.jsx)(T,{show:this.props.data.recording.info.words.length>0,data:this.props.data,propertyToToggle:"transcripteditor",updatePlayerState:this.props.updatePlayerState,children:"Transcript Editor"})]})}}]),r}(a.Component)),T=function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).toggleState=function(t){var r={transcript:!1,wordeditor:!1,transcripteditor:!1};r[e.props.propertyToToggle]=!e.props.data[e.props.propertyToToggle],e.props.updatePlayerState(r)},e}return Object(l.a)(r,[{key:"render",value:function(){if(!1===this.props.show)return null;var e="hiding",t="Show ";return this.props.data[this.props.propertyToToggle]&&(e="showing",t="Hide "),Object(h.jsx)("button",{className:e,onClick:this.toggleState,title:t+this.props.children,children:this.props.children})}}]),r}(a.Component),I=function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).onclickHandler=function(t){e.props.onButtonToggle(e.props.subArrayKey)},e.onmouseoverHandler=function(t){document.documentElement.classList.add("renderbox-"+e.props.subArrayKey+"-highlight")},e.onmouseoutHandler=function(t){document.documentElement.classList.remove("renderbox-"+e.props.subArrayKey+"-highlight")},e.changeSizeBigger=function(t){y.emit("player.changesourcesize",{target:e.props.sourceIndex,action:"bigger"})},e.changeSizeSmaller=function(t){y.emit("player.changesourcesize",{target:e.props.sourceIndex,action:"smaller"})},e}return Object(l.a)(r,[{key:"render",value:function(){var e="hiding";return!0===this.props.visible&&(e="showing"),Object(h.jsxs)("div",{className:"source-buttons",onMouseOver:this.onmouseoverHandler,onMouseOut:this.onmouseoutHandler,children:[Object(h.jsx)("button",{className:e,onClick:this.onclickHandler,title:(this.props.visible?"Hide ":"Show ")+this.props.label+" ("+this.props.sourceIndex+")",children:this.props.label}),this.props.resizeable?Object(h.jsx)("button",{disabled:!this.props.visible,className:"size-button bigger",onClick:this.changeSizeBigger,title:"Increase "+this.props.label+" size",children:Object(h.jsx)(A,{})}):null,this.props.resizeable?Object(h.jsx)("button",{disabled:!this.props.visible,className:"size-button smaller",onClick:this.changeSizeSmaller,title:"Decrease "+this.props.label+" size",children:Object(h.jsx)(S,{})}):null]})}}]),r}(n.a.PureComponent),C=N,D=(r(84),function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"componentDidUpdate",value:function(e){this.props.data.recording.title!==e.data.recording.title&&y.emit("player.resize")}},{key:"componentDidMount",value:function(){y.emit("player.resize")}},{key:"render",value:function(){return!1===this.props.data.recording?Object(h.jsxs)("div",{className:"Header content-header loading-or-error",children:[Object(h.jsx)("a",{className:"content-header-btn content-header-site-btn",href:"https://leccap.engin.umich.edu/leccap/",title:"Return to main site",children:Object(h.jsx)("span",{children:"CAEN Lecture Viewer"})}),Object(h.jsx)("span",{className:"content-header-recording-title",children:"\xa0"}),Object(h.jsx)("span",{className:"clearfix"})]}):Object(h.jsxs)("div",{id:"title-header",className:"Header content-header",children:[this.props.data.orgLogo&&Object(h.jsx)(L,{url:this.props.data.orgLogo}),this.props.data.showSiteTitle&&Object(h.jsx)("a",{className:"content-header-btn content-header-site-btn",href:"/leccap/site/"+this.props.data.recording.sitekey,title:"Return to site overview",children:Object(h.jsx)("span",{children:this.props.data.recording.sitename})}),this.props.data.recording.title&&Object(h.jsx)("span",{className:"content-header-recording-title",children:this.props.data.recording.title}),Object(h.jsx)("div",{className:"secondary-controls",children:Object(h.jsx)(C,{data:this.props.data,updatePlayerState:this.props.updatePlayerState})}),Object(h.jsx)("div",{className:"source-shade"}),Object(h.jsx)("span",{className:"clearfix"})]})}}]),r}(a.Component)),L=function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){return Object(h.jsx)("span",{className:"content-header-organization-logo",children:Object(h.jsx)("img",{alt:"logo",src:this.props.url})})}}]),r}(n.a.PureComponent),_=D,M=r(64),B=r(16),W=r(13),z=r(20),F=r(53),U=r.n(F),V=window.navigator.userAgent,G=U.a.getParser(V),Q={mobilesafari:function(){return!!(navigator.maxTouchPoints&&navigator.maxTouchPoints>0&&"Safari"===G.getBrowserName())},chrome:function(){return"Chrome"===G.getBrowserName()},ios:function(){return/ip(ad|od|hone)/i.test(V)},android:function(){return/android/i.test(V)},androidphone:function(){var e,t;return!!Q.android()&&(t=window.screen.width,e=window.screen.height,t<640&&e<640)},iphone:function(){return/iphone/i.test(V)},winphone:function(){return/Windows phone/i.test(V)},phone:function(){return Q.iphone()||Q.winphone()||Q.androidphone()},mobile:function(){return Q.ios()||Q.android()||Q.winphone()}},J=Q,X=r(11),Y={dynamic:{currentTime:0,formattedTime:"0:00",buffering:!0,startBuffer:0,endBuffer:0}};console.log(Y);var q,Z="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QMtaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjMtYzAxMSA2Ni4xNDU2NjEsIDIwMTIvMDIvMDYtMTQ6NTY6MjcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzYgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OEUxNUEzRjlCRDVBMTFFOUE5MzVENDExNkJCNzQ0NjYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OEUxNUEzRkFCRDVBMTFFOUE5MzVENDExNkJCNzQ0NjYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4RTE1QTNGN0JENUExMUU5QTkzNUQ0MTE2QkI3NDQ2NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4RTE1QTNGOEJENUExMUU5QTkzNUQ0MTE2QkI3NDQ2NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pv/uAA5BZG9iZQBkwAAAAAH/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQECAgICAgICAgICAgMDAwMDAwMDAwMBAQEBAQEBAgEBAgICAQICAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA//AABEIAAEAAQMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALAQEAAAAAAAAAAAAAAAAAAAAAEAEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",K=(r(86),r(42)),$=function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(o.a)(this,r),(a=t.call(this,e)).backward=function(){var e=a.mediaRef.current.currentTime-10;e=e<0?0:e,a.seek(e)},a.forward=function(){var e=a.mediaRef.current.currentTime+10;e<a.mediaRef.current.duration&&a.seek(e)},a.play=function(){if(!1!==a.loaded){var e=a.mediaRef.current.play();y.isPromise(e)&&e.then((function(){})).catch((function(e){a.props.updatePlayerState({paused:!0}),a.setState({autoplayPrevented:!0})}))}},a.allowAutoplayButtonClick=function(){a.setState({autoplayPrevented:!1}),a.play()},a.pause=function(){a.mediaRef.current.pause()},a.playPause=function(){if(!1!==a.loaded)if(a.mediaRef.current.paused){var e=1;a.mediaRef.current.ended&&(a.props.updatePlayerState({ended:!1}),a.mediaRef.current.currentTime=0),J.ios()||(e=a.props.data.playbackRate),a.mediaRef.current.play(),J.ios()||a.setPlaybackRate(e)}else a.mediaRef.current.pause()},a.seek=function(e){!1!==a.loaded&&(0!==e||!1!==a.initialLoad?(y.emit("player.seek",{from:a.mediaRef.current.currentTime,to:e}),a.mediaRef.current.currentTime=e,a.seekingTime=e,a.play(),!1===a.mediaRef.current.paused&&a.props.updateDynamicState({buffering:!0})):a.initialLoad=!0)},a.setVolume=function(e){a.mediaRef.current.volume=e,a.props.updatePlayerState({volume:e})},a.supportsCaptions=function(){return a.props.data.recording.info.captions.length},a.loadeddataHandler=function(){a.props.updatePlayerState({firstFrameLoaded:!0})},a.loadedmetadataHandler=function(){var e=a.mediaRef.current.duration,t=y.sec2hms(e),r=a.mediaRef.current.currentTime,n=y.sec2hms(r);a.props.updateDynamicState({currentTime:r,formattedTime:n}),a.props.updatePlayerState({duration:e,formattedDuration:t,volume:a.mediaRef.current.volume,playbackRate:a.mediaRef.current.playbackRate}),a.progressHandler()},a.progressHandler=function(){if(a.mediaRef.current.buffered){var e=a.mediaRef.current.buffered;if(e.length>0){var t=e.start(0),r=e.end(0);a.props.updateDynamicState({startBuffer:t,endBuffer:r})}}},a.canplayHandler=function(){if(!0!==a.loaded){a.loaded=!0;var e=a.props.data.initialTime;e>=0&&e<=a.props.data.duration?a.seek(e):console.error("Invalid initialTime of ",e)}},a.canplaythroughHandler=function(){!1===a.loaded&&a.canplayHandler()},a.playHandler=function(){!1!==a.loaded&&(a.props.updatePlayerState({started:!0,paused:!1,ended:!1}),a.props.updateDynamicState({buffering:!0}))},a.pauseHandler=function(){!1!==a.loaded&&(a.props.updatePlayerState({paused:!0}),a.props.updateDynamicState({buffering:!1}))},a.waitingHandler=function(){a.props.updateDynamicState({buffering:!0})},a.playingHandler=function(){!1!==a.loaded&&a.seeking},a.timeupdateHandler=function(){if(!0!==a.seeking){var e=a.mediaRef.current.currentTime,t={currentTime:e,formattedTime:y.sec2hms(e)};!0===a.props.data.started&&(t.buffering=!0),a.props.updateDynamicState(t),y.localStorageSet(a.props.data.recording.recordingkey+".initialTime",e),a.progressHandler()}},a.endedHandler=function(){a.mediaRef.current.pause(),a.props.updatePlayerState({ended:!0})},a.volumechangeHandler=function(){},a.ratechangeHandler=function(){a.props.updatePlayerState({playbackRate:a.mediaRef.current.playbackRate})},a.seekingHandler=function(e){var t=a.seekingTime,r=y.sec2hms(t);a.seeking=!0,a.props.updateDynamicState({buffering:!0,currentTime:t,formattedTime:r})},a.seekedHandler=function(e){clearTimeout(a.seekingDelayTimeUpdateTID),a.seekingDelayTimeUpdateTID=y.delay(500,(function(){a.seeking=!1,a.props.updateDynamicState({buffering:!1})}),Object(W.a)(a))},a.mediaRef=n.a.createRef(),a.props.data.useCanvas&&(a.bufferCanvas=document.createElement("canvas"),a.bufferCtx=a.bufferCanvas.getContext("2d",{alpha:!1}),a.bufferCanvas.width=a.props.data.recording.info.movie_exported_width,a.bufferCanvas.height=a.props.data.recording.info.movie_exported_height,a.bufferCanvas.style.display="none"),a.autoplay=J.mobilesafari(),a.loaded=!1,a.seeking=!1,a.seekingDelayTimeUpdateTID=null,a.playPause=K.debounce(a.playPause,50),a.state={autoplayPrevented:!1},a.initialLoad=!1,a}return Object(l.a)(r,[{key:"componentDidMount",value:function(){document.getElementById("tempid").append(this.bufferCanvas)}},{key:"handleEvent",value:function(e,t){switch(e){case"play":this.play();break;case"pause":this.pause();break;case"playpause":this.playPause();break;case"backward":this.backward();break;case"forward":this.forward();break;case"setPlaybackRate":this.setPlaybackRate(t);break;case"setVolume":this.setVolume(t);break;case"seek":this.seek(t);break;default:console.log('No handler for "'+e+'" event')}}},{key:"setPlaybackRate",value:function(e){J.ios()&&this.mediaRef.current.pause(),this.mediaRef.current.playbackRate=e,J.ios()&&this.mediaRef.current.play()}},{key:"render",value:function(){var e={width:"100%",height:"100%"},t={};return this.props.data.useCanvas?t={width:this.props.data.recording.info.movie_exported_width,height:this.props.data.recording.info.movie_exported_height,position:"absolute"}:(t={width:"100%"},e.display="flex"),Object(h.jsxs)("div",{className:"video",id:"tempid",style:e,children:[Object(h.jsx)("video",{id:"tempvideoid",ref:this.mediaRef,playsInline:!0,autoPlay:this.autoplay,"x-webkit-airplay":"allow",src:this.props.data.recording.mediaPrefix+this.props.data.recording.sitekey+"/"+this.props.data.recording.info.movie_exported_name+"."+this.props.data.recording.info.movie_type,style:t,controls:this.props.data.useCanvas,tabIndex:"-1",onLoadedData:this.loadeddataHandler,onLoadedMetadata:this.loadedmetadataHandler,onProgress:this.progressHandler,onCanPlayThrough:this.canplaythroughHandler,onPlay:this.playHandler,onPause:this.pauseHandler,onWaiting:this.waitingHandler,onPlaying:this.playingHandler,onTimeUpdate:this.timeupdateHandler,onEnded:this.endedHandler,onVolumeChange:this.volumechangeHandler,onRateChange:this.ratechangeHandler,onSeeking:this.seekingHandler,onSeeked:this.seekedHandler,children:this.supportsCaptions()?Object(h.jsx)("track",{kind:"captions",label:"English captions",src:"/leccap/player/api/webvtt/?rk="+this.props.data.recording.recordingkey,srcLang:"en"}):null}),this.props.data.useCanvas?Object(h.jsx)(ae,{playpause:this.playPause,data:this.props.data,dynamic:this.props.dynamic,media:this.mediaRef,bufferCanvas:this.bufferCanvas,bufferCtx:this.bufferCtx,updatePlayerState:this.props.updatePlayerState}):null,Object(h.jsxs)(u.a,{isOpen:this.state.autoplayPrevented,contentLabel:"Autoplay was prevented",onRequestClose:this.handleCloseModal,shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,className:"modal",overlayClassName:"modal-overlay",children:[Object(h.jsx)("h2",{children:"Autoplay was prevented"}),Object(h.jsx)("p",{children:"Please click the play button below to allow playback"}),Object(h.jsx)("p",{className:"smaller",children:"This action only needs to be done once"}),Object(h.jsx)("div",{className:"modal-toolbar",children:Object(h.jsx)("button",{onClick:this.allowAutoplayButtonClick,children:"Play"})})]})]})}}]),r}(a.Component),ee=Object(X.b)((function(e){return{dynamic:e.dynamic}}),(function(e){return{updateDynamicState:function(t){return e(function(e){return{type:0,payload:e}}(t))}}}),null,{forwardRef:!0})($),te=function e(t){var r=this;Object(o.a)(this,e),this.draw=function(){switch(r.properties.type){case"VideoNode":r.properties.dest.image.drawImage(r.properties.src.image,r.properties.src.x,r.properties.src.y,r.properties.src.w,r.properties.src.h,r.properties.dest.x,r.properties.dest.y,r.properties.dest.w,r.properties.dest.h);break;case"ImageNode":r.properties.dest.image&&r.properties.src.newSrc!==r.properties.src.oldSrc&&(r.properties.dest.image.src=r.properties.src.newSrc,r.properties.src.oldSrc=r.properties.src.newSrc)}};this.properties=Object(B.a)(Object(B.a)({},{type:"node",a:1,visible:!0,src:{image:null,x:0,y:0,w:0,h:0},dest:{targetHolderRef:null,image:null,x:0,y:0,w:0,h:0}}),t)},re=function e(){var t=this;Object(o.a)(this,e),this.length=function(){return t.nodes.length},this.add=function(e,r){!0===r?t.nodes.unshift(e):t.nodes.push(e),t.visible++},this.hide=function(e){t.nodes[e].properties.visible=!1,t.visible--},this.show=function(e){t.nodes[e].properties.visible=!0,t.visible++},this.get=function(){return t.nodes},this.set=function(e){for(var r=0;r<e.length;r++)if(t.nodes[e[r].nodeIndex]){var a=e[r].w,n=e[r].h;if(t.nodes[e[r].nodeIndex].properties.dest.targetHolderRef.current.style.cssText="width: "+a+"px; height: "+n+"px; top: "+e[r].y+"px; left: "+e[r].x+"px;",t.nodes[e[r].nodeIndex].properties.dest.w=a,t.nodes[e[r].nodeIndex].properties.dest.h=n,"VideoNode"===t.nodes[e[r].nodeIndex].properties.type)t.nodes[e[r].nodeIndex].properties.dest.canvas.width=a,t.nodes[e[r].nodeIndex].properties.dest.canvas.height=n}},this.nodes=[],this.visible=0},ae=function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(e){var a;if(Object(o.a)(this,r),(a=t.call(this,e)).loadeddataHandler=function(e){a.draw(),y.delay(500,(function(){a.draw()}),Object(W.a)(a))},a.onResizeStage=function(e,t){a.recalcStage()},a.countVisible=function(){for(var e=0,t=a.props.data.visiblePresets.stage.length-1;t>=0;t--)!0===a.props.data.visiblePresets.stage[t].visible&&e++;return e},a.recalcStage=function(){var e=a.countVisible(),t=[0,.25,.5,.75,1],r=0,n=0,s={},i=0;for(r=0;r<a.sizeRatios.length;r++)!0===a.props.data.visiblePresets.stage[r].visible&&(i=Math.max(i,a.sizeRatios[r]));var o=4-i,l={},c={type:"horizontal",renderBoxes:[]},d={type:"vertical",renderBoxes:[]},p=a.stageRef.current.clientWidth,u=a.stageRef.current.clientHeight,h=p-0*(1+e),m=u-0*(1+e);if(p>u){var f=m,b=0;for(r=0;r<a.videoNodes.nodes.length;r++)!0===a.props.data.visiblePresets.stage[r].visible&&(s={nodeIndex:r,w:f*a.videoNodes.nodes[r].properties.ratio*t[a.sizeRatios[r]+o],h:f*t[a.sizeRatios[r]+o]},c.renderBoxes.push(s),b+=s.w);if(b>h)for(n=h/b,b=0,r=0;r<e;r++)c.renderBoxes[r].w*=n,c.renderBoxes[r].h*=n,b+=c.renderBoxes[r].w;var g=(p-(b+0*(e-1)))/2;for(r=0;r<e;r++)c.renderBoxes[r].x=g,g+=c.renderBoxes[r].w+0,c.renderBoxes[r].y=0+(u-0-c.renderBoxes[r].h)/2;l=c}else{var v=h,y=0;for(r=0;r<a.videoNodes.nodes.length;r++)!0===a.props.data.visiblePresets.stage[r].visible&&(s={nodeIndex:r,w:v*t[a.sizeRatios[r]+o],h:v/a.videoNodes.nodes[r].properties.ratio*t[a.sizeRatios[r]+o]},d.renderBoxes.push(s),y+=s.h);if(y>m)for(n=m/y,y=0,r=0;r<e;r++)d.renderBoxes[r].w*=n,d.renderBoxes[r].h*=n,y+=d.renderBoxes[r].h;var j=(u-(y+0*(e-1)))/2;for(r=0;r<e;r++)d.renderBoxes[r].y=j,j+=d.renderBoxes[r].h+0,d.renderBoxes[r].x=0+(p-0-d.renderBoxes[r].w)/2;l=d}a.videoNodes.set(l.renderBoxes),a.draw(0)},a.throttle=function(e){if(a.props.data.throttle){if(e-a.last>=1e3){var t=window.appGlobals.maxFPS,r=Math.round(a.frames/(e-a.last)*1e4)/10;if(a.last=e,a.frames=0,a.framesArray.push(r),a.framesArray.length>11){a.framesArray.shift();for(var n,s=a.framesArray.length-1,i=0;s>-1;)i+=a.framesArray[s],s--;(n=i/a.framesArray.length)>23?window.appGlobals.maxFPS=30:n>18?window.appGlobals.maxFPS=25:n>13?window.appGlobals.maxFPS=20:n>8?window.appGlobals.maxFPS=15:n>3?window.appGlobals.maxFPS=10:n>0&&(window.appGlobals.maxFPS=5),t!==window.appGlobals.maxFPS&&(window.appGlobals.minInterval=1e3/window.appGlobals.maxFPS)}}a.frames++}},a.start=function(){if(!a.frameId){a.stop();var e=0;!function t(r){r-e>=window.appGlobals.minInterval&&(a.throttle(r),a.draw(r),e=r),a.frameId=requestAnimationFrame(t)}(e)}},a.stop=function(){cancelAnimationFrame(a.frameId),a.frameId=null},a.beforeDraw=function(){a.props.bufferCtx.drawImage(a.props.media.current,0,0)},a.draw=function(e){a.beforeDraw();for(var t=a.videoNodes.nodes.length-1;t>=0;t--)!0===a.props.data.visiblePresets.stage[t].visible&&"VideoNode"===a.videoNodes.nodes[t].properties.type&&a.videoNodes.nodes[t].draw()},a.changeSizeHandler=function(e){a.changeSize(e.detail.target,e.detail.action)},a.changeSize=function(e,t){var r=0;if("bigger"===t){if(a.sizeRatios[e]=a.sizeRatios[e]+1,a.sizeRatios[e]>4)for(a.sizeRatios[e]=4,r=0;r<a.sizeRatios.length;r++)r!==e&&(a.sizeRatios[r]=Math.max(1,a.sizeRatios[r]-1))}else{if(a.sizeRatios[e]=a.sizeRatios[e]-1,a.sizeRatios[e]<1)for(a.sizeRatios[e]=1,r=0;r<a.sizeRatios.length;r++)r!==e&&(a.sizeRatios[r]=Math.min(4,a.sizeRatios[r]+1));a.sizeRatios[e]=Math.max(1,a.sizeRatios[e])}var n=Math.max.apply(Math,Object(M.a)(a.sizeRatios));if(n<4){var s=4-n;for(r=0;r<a.sizeRatios.length;r++)a.sizeRatios[r]=a.sizeRatios[r]+s}a.recalcStage()},a.sizeButtonsEnter=function(e){a.sizeButtonIntervalTID&&clearTimeout(a.sizeButtonIntervalTID);var t=y.offset(e.target.parentElement),r=["position: fixed","left: "+t.left+"px","top: "+t.top+"px"];"sizebuttons"===e.target.className?e.target.style.cssText=r.join(";"):"sizebuttons"===e.target.parentElement.className&&(e.target.parentElement.style.cssText=r.join(";"))},a.sizeButtonsLeave=function(e){var t=e.target;"sizebuttons"===t.className?t.style.cssText="":"sizebuttons"===t.parentElement.className&&(t.parentElement.style.cssText="")},a.closeButtonPressed=function(e){var t=JSON.parse(JSON.stringify(a.props.data.visiblePresets));t.stage[e].visible=!t.stage[e].visible,a.props.updatePlayerState({visiblePresets:t})},a.onstageclickHandler=function(e){a.props.playpause()},a.stageRef=n.a.createRef(),a.frameId=null,a.sizeButtonIntervalTID=null,a.last=0,a.frames=0,a.framesArray=[],a.videoNodes=new re,a.sizeRatios=[],a.state={toggledSource:!1},1!==a.props.data.enabledPresets.video&&1!==a.props.data.enabledPresets.legacyVideo||(1===a.props.data.enabledPresets.video&&a.videoNodes.add(new te({label:"Video",type:"VideoNode",ratio:+a.props.data.recording.info.movie_exported_video_width/+a.props.data.recording.info.movie_exported_video_height,src:{image:a.props.bufferCanvas,x:+a.props.data.recording.info.movie_exported_video_left,y:+a.props.data.recording.info.movie_exported_video_top,w:+a.props.data.recording.info.movie_exported_video_width,h:+a.props.data.recording.info.movie_exported_video_height},dest:{targetHolderRef:n.a.createRef(),x:0,y:0,w:0,h:0}}),!1),1===a.props.data.enabledPresets.legacyVideo&&a.videoNodes.add(new te({label:"Video",type:"VideoNode",ratio:+a.props.data.recording.info.movie_exported_width/+a.props.data.recording.info.movie_exported_height,src:{image:a.props.bufferCanvas,x:0,y:0,w:+a.props.data.recording.info.movie_exported_width,h:+a.props.data.recording.info.movie_exported_height},dest:{targetHolderRef:n.a.createRef(),x:0,y:0,w:0,h:0}}),!1)),1===a.props.data.enabledPresets.slides){var s=!1;+a.props.data.recording.info.movie_exported_video_left>0&&(s=!0),a.videoNodes.add(new te({label:"Slides",type:"VideoNode",ratio:+a.props.data.recording.info.movie_exported_slides_width/+a.props.data.recording.info.movie_exported_slides_height,src:{image:a.props.bufferCanvas,x:+a.props.data.recording.info.movie_exported_slides_left,y:+a.props.data.recording.info.movie_exported_slides_top,w:+a.props.data.recording.info.movie_exported_slides_width,h:+a.props.data.recording.info.movie_exported_slides_height},dest:{targetHolderRef:n.a.createRef(),x:0,y:0,w:0,h:0}}),s)}for(var i=0;i<a.props.data.enabledPresets.aux.length;i++){var l=a.props.data.enabledPresets.aux[i];a.videoNodes.add(new te({label:l.name,type:"ImageNode",ratio:l.width/l.height,src:{prefix:l.prefix,images:l.images,newSrc:Z,oldSrc:""},dest:{targetHolderRef:n.a.createRef()}}),!1)}return a}return Object(l.a)(r,[{key:"componentDidMount",value:function(){document.addEventListener("player.changesourcesize",this.changeSizeHandler),this.props.media.current.addEventListener("loadeddata",this.loadeddataHandler);for(var e=0;e<this.videoNodes.nodes.length;e++)this.sizeRatios.push(4),"VideoNode"===this.videoNodes.nodes[e].properties.type&&(this.videoNodes.nodes[e].properties.dest.canvas=this.videoNodes.nodes[e].properties.dest.targetHolderRef.current.querySelector("canvas"),this.videoNodes.nodes[e].properties.dest.image=this.videoNodes.nodes[e].properties.dest.targetHolderRef.current.querySelector("canvas").getContext("2d",{alpha:!1})),"ImageNode"===this.videoNodes.nodes[e].properties.type&&(this.videoNodes.nodes[e].properties.dest.image=this.videoNodes.nodes[e].properties.dest.targetHolderRef.current.querySelector("img"));this.start()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("player.changesourcesize",this.changeSizeHandler),this.props.media.current&&this.props.media.current.removeEventListener("loadeddata",this.loadeddataHandler),this.stop()}},{key:"shouldComponentUpdate",value:function(e,t){if(Math.round(this.props.dynamic.currentTime)!==Math.round(e.dynamic.currentTime))for(var r,a=null,n=this.videoNodes.nodes.length-1;n>=0;n--)!0===this.props.data.visiblePresets.stage[n].visible&&"ImageNode"===this.videoNodes.nodes[n].properties.type&&(a=y.getThingByTime(Math.round(e.dynamic.currentTime),this.videoNodes.nodes[n].properties.src.images),null===(r=y.getImageUrl(this.props.data.baseImageUrl,this.videoNodes.nodes[n].properties.src.prefix,a[0]))&&(r=this.props.data.slidePlaceholder),this.videoNodes.nodes[n].properties.src.newSrc=r,this.videoNodes.nodes[n].draw());return this.frameId&&e.data.paused&&e.data.firstFrameLoaded?this.stop():this.frameId||e.data.paused||this.start(),this.props.data.dimensions.windowWidth!==e.data.dimensions.windowWidth||this.props.data.dimensions.windowHeight!==e.data.dimensions.windowHeight||JSON.stringify(this.props.data.visiblePresets.stage)!==JSON.stringify(e.data.visiblePresets.stage)}},{key:"componentDidUpdate",value:function(e,t){JSON.stringify(this.props.data.visiblePresets.stage)!==JSON.stringify(e.data.visiblePresets.stage)&&this.recalcStage()}},{key:"render",value:function(){var e=this;return console.log("--============================== RENDER CANVAS ==============================--"),Object(h.jsx)("div",{style:{height:"100%"},children:Object(h.jsxs)("div",{ref:this.stageRef,id:"stage",onClick:this.onstageclickHandler,children:[this.videoNodes.nodes.map((function(t,r){return Object(h.jsxs)("div",{ref:t.properties.dest.targetHolderRef,className:"renderedbox renderbox-"+r+(!1===e.props.data.visiblePresets.stage[r].visible?" hide":""),children:[Object(h.jsx)("div",{className:"element-wrap",children:"VideoNode"===t.properties.type?Object(h.jsx)("canvas",{}):Object(h.jsx)("img",{alt:"aux source",src:Z})}),Object(h.jsxs)("div",{className:"source-toolbar",children:[Object(h.jsx)(ne,{sourceIndex:r,onButtonToggle:e.closeButtonPressed}),Object(h.jsx)("div",{className:"namelabel",children:t.properties.label})]})]},r)})),Object(h.jsx)(z.a,{handleWidth:!0,handleHeight:!0,onResize:this.onResizeStage})]})})}}]),r}(a.Component),ne=function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).onClickHandler=function(t){e.props.onButtonToggle(e.props.sourceIndex),t.stopPropagation()},e}return Object(l.a)(r,[{key:"render",value:function(){return Object(h.jsx)("div",{onClick:this.onClickHandler,className:"ui-button closebutton",children:"X"})}}]),r}(a.Component),se=(r(87),function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(o.a)(this,r),(a=t.call(this,e)).makeEaseInOut=function(e){return function(t){return t<.5?e(2*t)/2:(2-e(2*(1-t)))/2}},a.circ=function(e){return 1-Math.sin(Math.acos(e))},a.animate=function(e){var t=e.timing,r=e.draw,a=e.duration,n=performance.now();requestAnimationFrame((function e(s){var i=(s-n)/a;i>1&&(i=1);var o=t(i);r(o),i<1&&requestAnimationFrame(e)}))},a.shift=function(e){var t=1/3*a.state.paneWidth,r=a.makeEaseInOut(a.circ);switch(e){case"left":e=-1;break;case"right":e=1}var n=Object(W.a)(a),s=n.sliderRef.current.scrollLeft;a.animate({duration:250,timing:r,draw:function(r){n.sliderRef.current.scrollLeft=s+r*e*t}})},a.mousemoveHandlerForScroller=function(e){if(!0===a.mouseDownForScroller){var t=a.lastMousePosition-e.pageX;a.velocity=t,a.direction=t,a.lastMousePosition=e.pageX,a.scrollLeft+=t,a.scrollLeft<0&&(a.scrollLeft=0),a.scrollLeft>a.maxScroll&&(a.scrollLeft=a.maxScroll)}},a.scroll=function(){if(!1===a.mouseDownForScroller&&!1===a.mouseDownForHandle){if(0!==a.velocity){var e=Object(W.a)(a),t=0,r=Math.abs(a.velocity),n=Math.sign(a.velocity);requestAnimationFrame((function a(s){if(!1===e.mouseDownForScroller){var i=t/50,o=1-e.slowEaseOut(i);e.sliderRef.current.scrollLeft+=n*r,t++,(r*=.85*o)>.05&&requestAnimationFrame(a)}}))}}else a.sliderRef.current.scrollLeft=a.scrollLeft,requestAnimationFrame(a.scroll)},a.slowEaseOut=function(e){return Math.pow(e,3)},a.onMousedownHandlerForScroller=function(e){0===e.button&&(cancelAnimationFrame(a.timer),document.documentElement.classList.add("draggable-cursor"),a.maxScroll=a.scrollableWidth-a.sliderRef.current.offsetWidth,a.mouseDownForScroller=!0,a.scrollLeft=a.sliderRef.current.scrollLeft,a.velocity=0,a.lastMousePosition=e.pageX,a.timer=requestAnimationFrame(a.scroll))},a.mouseupHandlerForScroller=function(e){!0===a.mouseDownForScroller&&0===e.button&&(a.mouseDownForScroller=!1,document.documentElement.classList.remove("draggable-cursor"))},a.onScrollHandlerForScroller=function(){if(console.log("scrolling"),clearTimeout(a.scrollerTID),a.scrollerRef.current.classList.add("scrolling"),a.scrollerTID=y.delay(250,(function(){a.scrollerRef.current.classList.remove("scrolling")}),Object(W.a)(a)),!1===a.mouseDownForHandle){if(!0===a.props.scrollbar){var e=(a.state.paneWidth-a.state.scrollHandleWidth)*(a.sliderRef.current.scrollLeft/a.maxScroll);a.scrollbarHandleRef.current.style.transform="translate3D("+e+"px, 0, 0)"}if(!0===a.props.minimap&&a.state.minimapWidth>0){var t=(a.state.minimapWidth-a.state.minimapHandleWidth)*(a.sliderRef.current.scrollLeft/a.maxScroll);a.minihandleRef.current.style.transform="translate3D("+t+"px, 0, 0)"}}},a.clickHandlerForScrollbar=function(e){if(!1===a.mouseDownForHandle){cancelAnimationFrame(a.timer);var t=y.getOffsetX(e,a.scrollbarRef.current),r=y.getElementRelativeOffsetX(a.scrollbarHandleRef.current,a.scrollbarRef.current),n=Math.sign(t-r),s=a.sliderRef.current.scrollLeft+n*(a.state.paneWidth-120);a.velocity=0,s<0&&(s=0),s>a.maxScroll&&(s=a.maxScroll),a.scrollLeft=s,a.sliderRef.current.scrollLeft=a.scrollLeft}},a.clickHandlerForHandle=function(e){e.stopPropagation()},a.onMousedownHandlerForHandle=function(e){0===e.button&&(cancelAnimationFrame(a.timer),document.documentElement.classList.add("draggable-cursor"),a.scrollbarRef.current.classList.add("scrolling"),a.maxScroll=a.scrollableWidth-a.sliderRef.current.offsetWidth,a.mouseDownForHandle=!0,a.scrollLeft=a.sliderRef.current.scrollLeft,a.velocity=0,a.lastMousePosition=e.pageX,a.timer=requestAnimationFrame(a.scroll))},a.mousemoveHandlerForHandle=function(e){if(!0===a.mouseDownForHandle){var t=-1*(a.lastMousePosition-e.pageX);a.lastMousePosition=e.pageX;var r=y.getElementRelativeOffsetX(a.scrollbarHandleRef.current,a.scrollbarRef.current)+t;r<0&&(r=0),r>a.state.paneWidth-a.state.scrollHandleWidth&&(r=a.state.paneWidth-a.state.scrollHandleWidth),a.scrollLeft=r*a.maxScroll/(a.state.paneWidth-a.state.scrollHandleWidth),a.scrollLeft<0&&(a.scrollLeft=0),a.scrollLeft>a.maxScroll&&(a.scrollLeft=a.maxScroll),a.scrollbarHandleRef.current.style.transform="translate3D("+r+"px, 0, 0)"}},a.mouseupHandlerForHandle=function(e){!0===a.mouseDownForHandle&&0===e.button&&(a.mouseDownForHandle=!1,document.documentElement.classList.remove("draggable-cursor"),a.scrollbarRef.current.classList.remove("scrolling"),e.stopPropagation())},a.onResizeHandler=function(e,t){a.props.height&&(t=a.props.height),a.setState({paneWidth:e,paneHeight:t})},a.jumpToScrollPosition=function(e){if(e<0&&(e=0),e>a.maxScroll&&(e=a.maxScroll),a.scrollLeft=e,e!==a.sliderRef.current.scrollLeft){var t=Object(W.a)(a),r=0,n=e-a.sliderRef.current.scrollLeft,s=a.sliderRef.current.scrollLeft;requestAnimationFrame((function e(a){var i=r/20,o=t.slowEaseOut(i);t.sliderRef.current.scrollLeft=s+n*o,r++,o<1&&requestAnimationFrame(e)}))}},a.sliderRef=n.a.createRef(),a.scrollerRef=n.a.createRef(),a.scrollerTID=null,!0===a.props.minimap&&(a.minihandleRef=n.a.createRef()),!0===a.props.scrollbar&&(a.scrollbarHandleRef=n.a.createRef(),a.scrollbarRef=n.a.createRef()),a.lastMousePosition=0,a.velocity=0,a.scrollLeft=0,a.mouseDownForScroller=!1,a.mouseDownForHandle=!1,a.timer=0,a.maxScroll=0,a.scrollableWidth=0,a.state={paneWidth:0,paneHeight:0,scrollableWidth:0,minimapWidth:0,minimapHandleWidth:0,scrollHandleWidth:0},a}return Object(l.a)(r,[{key:"componentDidMount",value:function(){window.addEventListener("mousemove",this.mousemoveHandlerForScroller),window.addEventListener("mouseup",this.mouseupHandlerForScroller),!0===this.props.scrollbar&&window.addEventListener("mousemove",this.mousemoveHandlerForHandle),(this.props.scrollbar||this.props.minimap)&&window.addEventListener("mouseup",this.mouseupHandlerForHandle)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("mousemove",this.mousemoveHandlerForScroller),window.removeEventListener("mouseup",this.mouseupHandlerForScroller),!0===this.props.scrollbar&&window.removeEventListener("mousemove",this.mousemoveHandlerForHandle),(this.props.scrollbar||this.props.minimap)&&window.removeEventListener("mouseup",this.mouseupHandlerForHandle)}},{key:"componentDidUpdate",value:function(e,t){if(this.state.paneWidth>0&&this.state.paneHeight>0&&(e.originalImageDimensions.w+":"+e.originalImageDimensions.h+":"+t.paneWidth+":"+t.paneHeight!==this.props.originalImageDimensions.w+":"+this.props.originalImageDimensions.h+":"+this.state.paneWidth+":"+this.state.paneHeight&&(this.props.width?this.scrollableWidth=this.props.width:this.scrollableWidth=this.props.originalImageDimensions.w/this.props.originalImageDimensions.h*this.state.paneHeight,this.maxScroll=this.scrollableWidth-this.sliderRef.current.offsetWidth,this.scrollableWidth>0&&(!0===this.props.scrollbar||!0===this.props.minimap)))){var r=200;this.state.paneWidth-40<200&&(r=this.state.paneWidth-40)<20&&(r=0),r*(this.state.paneHeight/this.scrollableWidth)>40&&(r=this.scrollableWidth/this.state.paneHeight*40),this.setState({scrollHandleWidth:this.state.paneWidth*(this.state.paneWidth/this.scrollableWidth),minimapWidth:r,minimapHandleWidth:r*(this.state.paneWidth/this.scrollableWidth)},this.onScrollHandlerForScroller)}e.position!==this.props.position&&this.jumpToScrollPosition(this.props.position)}},{key:"render",value:function(){var e="minimap",t="scrollbar";return(this.props.minimap||this.props.scrollbar)&&this.sliderRef&&this.sliderRef.current&&this.sliderRef.current.scrollWidth<=this.sliderRef.current.clientWidth&&(e+=" hidden",t+=" hidden"),Object(h.jsxs)("div",{className:"scrollwrapper",id:this.props.id,style:{height:this.props.height+"px"},children:[Object(h.jsxs)("div",{className:"scroller",ref:this.scrollerRef,style:{height:this.state.paneHeight-12*this.props.scrollbar+"px"},onMouseDown:this.onMousedownHandlerForScroller,children:[this.props.minimap?Object(h.jsx)("div",{className:e,style:{width:this.state.minimapWidth+"px",height:this.state.minimapWidth*(this.state.paneHeight/this.scrollableWidth)+"px"},children:Object(h.jsx)("div",{ref:this.minihandleRef,className:"minihandle",style:{width:this.state.minimapHandleWidth+"px"}})}):null,Object(h.jsx)("div",{style:{height:"100%",position:"relative"},children:Object(h.jsx)("div",{ref:this.sliderRef,className:"slider",tabIndex:"0",onScroll:this.onScrollHandlerForScroller,children:this.props.children})})]}),this.props.scrollbar?Object(h.jsx)("div",{ref:this.scrollbarRef,className:t,style:{height:"10px"},onClick:this.clickHandlerForScrollbar,children:Object(h.jsx)("div",{ref:this.scrollbarHandleRef,className:"scrollbarhandle",style:{width:this.state.scrollHandleWidth+"px",height:"10px"},onClick:this.clickHandlerForHandle,onMouseDown:this.onMousedownHandlerForHandle})}):null,Object(h.jsx)(z.a,{handleWidth:!0,handleHeight:!0,onResize:this.onResizeHandler,refreshMode:"debounce",refreshOptions:{leading:!1,trailing:!0},refreshRate:250})]})}}]),r}(a.Component)),ie=(r(88),function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(e){var a;Object(o.a)(this,r),(a=t.call(this,e)).shiftWhiteboardLeft=function(e){a.scrollPane.current.shift("left")},a.shiftWhiteboardRight=function(e){a.scrollPane.current.shift("right")},a.imagePreventEvents=function(e){return e.preventDefault(),e.stopPropagation(),!1},a.scrollPane=n.a.createRef(),a.state={src:null,x:0,paneWidth:0,paneHeight:0,sizedImageWidth:0,sourceImage:{w:0,h:0},whiteboardName:""};for(var s=e.data.visiblePresets.whiteboard.length-1;s>=0;s--)if(!0===e.data.visiblePresets.whiteboard[s].visible){a.state.whiteboardName=e.data.enabledPresets.whiteboard[s].name;break}return a.position={x:null},a.pushed=0,a}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.updateWhiteboardImage(this.props),document.addEventListener("player.shiftwhiteboardleft",this.shiftWhiteboardLeft),document.addEventListener("player.shiftwhiteboardright",this.shiftWhiteboardRight)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("player.shiftwhiteboardleft",this.shiftWhiteboardLeft),document.removeEventListener("player.shiftwhiteboardright",this.shiftWhiteboardRight)}},{key:"shouldComponentUpdate",value:function(e,t){if(Math.round(this.props.dynamic.currentTime)!==Math.round(e.dynamic.currentTime)&&this.updateWhiteboardImage(e),JSON.stringify(this.props.data.visiblePresets.whiteboard)!==JSON.stringify(e.data.visiblePresets.whiteboard)){for(var r="",a=e.data.visiblePresets.whiteboard.length-1;a>=0;a--)if(!0===e.data.visiblePresets.whiteboard[a].visible){r=e.data.enabledPresets.whiteboard[a].name;break}this.setState({whiteboardName:r,sourceImage:{w:0,h:0}}),this.updateWhiteboardImage(e)}return!0}},{key:"updateWhiteboardImage",value:function(e){for(var t,r,a=this,n=null,s=e.data.visiblePresets.whiteboard.length-1;s>=0;s--)if(!0===e.data.visiblePresets.whiteboard[s].visible){n=e.data.enabledPresets.whiteboard[s];break}var i={w:parseInt(n.width,10),h:parseInt(n.height,10)};t=y.getThingByTime(Math.round(e.dynamic.currentTime),n.images),r=y.getImageUrl(e.data.baseImageUrl,n.prefix,t[0]);var o=new Image;o.onload=function(){a.setState({src:r,sourceImage:i})},o.src=r}},{key:"render",value:function(){return Object(h.jsxs)("div",{style:{width:"100%",height:"100%"},children:[Object(h.jsx)("div",{className:"whiteboard-toolbar",children:Object(h.jsx)("div",{className:"whiteboard-namelabel",children:this.state.whiteboardName})}),Object(h.jsx)("div",{className:"whiteboard-help whiteboard-help-resize",children:"Resize using this handle."}),Object(h.jsxs)("div",{className:"whiteboard-help whiteboard-help-scroll",children:["To move the board:",Object(h.jsx)("br",{}),Object(h.jsx)("span",{children:"Click + drag"})," ",Object(h.jsx)("span",{className:"or",children:"or"})," ",Object(h.jsx)("span",{children:"Shift + mouse scroll wheel"})," ",Object(h.jsx)("span",{className:"or",children:"or"})," ",Object(h.jsx)("span",{children:"Trackpad swipe"})]}),Object(h.jsx)(se,{id:"whiteboard-pane",ref:this.scrollPane,minimap:!0,scrollbar:!1,originalImageDimensions:this.state.sourceImage,children:Object(h.jsx)("img",{src:this.state.src,style:{height:"100%"},alt:"Whiteboard",draggable:"false",onDragStart:this.imagePreventEvents})})]})}}]),r}(a.Component)),oe=Object(X.b)((function(e){return{dynamic:e.dynamic}}))(ie),le=r(56),ce=r.n(le),de=(r(89),function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(e){var a;Object(o.a)(this,r),(a=t.call(this,e)).findByTime=function(){for(var e=0,t=-1;e<a.state.captions.length;){var r=a.state.captions[e].intime;if(a.props.dynamic.currentTime<r)break;e++,t++}-1===t&&(t=0),a.state.currentCaption!==t&&a.setState({currentCaption:t})},a.onchangeHandler=function(e){a.setState({autoFollow:""===e.target.value,searchText:e.target.value,searchWords:e.target.value.trim().split(" ").map((function(e){return e.toLowerCase()}))})},a.onscrollHandler=function(e){a.ignoreScrollEvent?a.ignoreScrollEvent=!1:!0===a.state.autoFollow&&a.setState({autoFollow:!1})},a.autoScrollClickHandler=function(e){a.setState({autoFollow:!0})},a.transScroll=n.a.createRef(),a.state={captions:a.props.data.recording.info.captions,currentCaption:0,searchText:"",searchWords:[],autoFollow:!0};for(var s=a.state.captions.length-1;s>=0;s--)a.state.captions[s].text=a.state.captions[s].text.replace("<br />","\n"),a.state.captions[s].originalIndex=s,a.state.captions[s].searchIndex=a.state.captions[s].text.toLowerCase();return a.ignoreScrollEvent=!1,a}return Object(l.a)(r,[{key:"componentDidUpdate",value:function(e){if(this.findByTime(),!0===this.state.autoFollow){var t=document.getElementById(this.state.currentCaption+"-transcript-line");t&&(this.ignoreScrollEvent=!0,this.transScroll.current.scrollTop=t.offsetTop-this.transScroll.current.offsetHeight/2)}}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"transcript-viewer",children:[Object(h.jsxs)("div",{className:"toolbar",children:[Object(h.jsx)("input",{"aria-label":"Search transcript",id:"search_transcript",type:"text",placeholder:"Search transcript",value:this.state.searchText,onChange:this.onchangeHandler}),this.state.autoFollow?null:Object(h.jsx)("button",{className:"text-button",onClick:this.autoScrollClickHandler,children:"Auto scroll"})]}),Object(h.jsx)("div",{ref:this.transScroll,className:"transcript-scroller",tabIndex:"0",onScroll:this.onscrollHandler,children:this.state.captions.filter((function(t){if(e.state.searchWords.length>0)for(var r=e.state.searchWords.length-1;r>=0;r--)if(!t.searchIndex.includes(e.state.searchWords[r]))return!1;return!0})).map((function(t,r){return Object(h.jsx)(pe,{searchWords:e.state.searchWords,trigger:e.props.trigger,active:t.originalIndex===e.state.currentCaption,caption:t},r)}))})]})}}]),r}(a.Component)),pe=function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).jumpToCaption=function(t){e.props.trigger("seek",e.props.caption.intime)},e}return Object(l.a)(r,[{key:"render",value:function(){var e="transcript-row";return this.props.active&&(e+=" active"),Object(h.jsxs)("div",{className:e,id:this.props.caption.originalIndex+"-transcript-line",onClick:this.jumpToCaption,children:[Object(h.jsx)("div",{className:"transcript-time",children:y.sec2hms(this.props.caption.intime)}),Object(h.jsx)("div",{className:"transcript-text",children:Object(h.jsx)(ce.a,{highlightClassName:"highlighted",searchWords:this.props.searchWords,autoEscape:!0,textToHighlight:this.props.caption.text})})]})}}]),r}(n.a.PureComponent),ue=Object(X.b)((function(e){return{dynamic:e.dynamic}}))(de),he=r(57),me=r.n(he),fe=(r(91),["title","titleId"]);function be(){return be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},be.apply(this,arguments)}function ge(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ve(e,t){var r=e.title,n=e.titleId,s=ge(e,fe);return a.createElement("svg",be({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"13px",height:"15px",viewBox:"0 0 13 15",enableBackground:"new 0 0 13 15",xmlSpace:"preserve",ref:t,"aria-labelledby":n},s),r?a.createElement("title",{id:n},r):null,q||(q=a.createElement("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#BFBEBF",points:"13,7.5 0,0 0,15 "})))}var ye,je,we=a.forwardRef(ve),xe=(r.p,r(42)),Oe=function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(e){var a;if(Object(o.a)(this,r),(a=t.call(this,e)).onscrollHandler=function(e){a.evalVisibleWords()},a.onchangeHandler=function(e){a.setState({searchText:e.target.value})},a.lineUpdateRequest=function(e){var t=e.index,r=JSON.parse(JSON.stringify(a.state.lines));if("line_change"===e.type)r[t].line=e.newLine,r[t].edited=!0,a.setState({lines:r,edited:!0},(function(){a.forceUpdate()})),a.props.updatePlayerState({lines:r}),y.localStorageSet(a.props.data.recording.recordingkey+".lines",JSON.stringify(r),!0),y.localStorageSet(a.props.data.recording.recordingkey+".wordHash",a.props.data.wordChecksum,!0);else console.log(e)},a.evalVisibleWords=function(){},a.saveLines=function(e){a.props.updatePlayerState({showSavingLineEditsModal:!0}),y.callApiPost("save_lines",{lines:a.state.lines,reviewed:a.state.reviewed},a.processResponse)},a.processResponse=function(e){if((e=JSON.parse(e.response)).error)alert("failed to save transcript");else{var t=a.props.data.recording;y.localStorageRemove(a.props.data.recording.recordingkey+".lines"),y.localStorageRemove(a.props.data.recording.recordingkey+".wordHash"),t.info.captions=e.captions,t.info.words=e.words;var r=y.checksum(JSON.stringify(e.words));a.props.updatePlayerState({showSavingLineEditsModal:!1,wordChecksum:r,recording:t,lines:[]},a.resetFromProps)}},a.resetFromProps=function(){console.log("resetFromProps");for(var e=[],t=0,r=!0,n=0,s=a.props.data.recording.info.words,i={},o=0;o<s.length;o++)r=!0,i=s[o],e[t]&&e[t].line.length+1+i.word.length>32&&(r=!1),e[t]&&i.start_time-n>.2&&(r=!1),!1===r&&t++,e[t]?(e[t].line+=" "+i.word,e[t].end_time=i.end_time,e[t].length=i.end_time-e[t].start_time,e[t].originalWords.push(i)):e[t]={line:i.word,start_time:i.start_time,end_time:i.end_time,length:i.end_time-i.start_time,key:t,originalWords:[i],edited:!1},n=i.end_time;a.setState({lines:e,reviewed:!!a.props.data.recording.info.words.words_reviewed,edited:!1}),a.currentCaption=-1,a.keyPrefix++},a.editingLine=function(e){console.log("editing line:",e)},a.handleReviewedChange=function(e){a.setState({reviewed:e.target.checked,edited:!0})},a.cancelAutoplay=function(){a.pauseAtTime=!1,a.reallyDoPause=!1,a.resumePlayingTID&&clearTimeout(a.resumePlayingTID)},a.playThisLine=function(e,t){a.cancelAutoplay();var r=a.state.lines[e].start_time,n=!1;a.state.lines[e+2]&&(n=a.state.lines[e+2].end_time),"forced"===t&&(a.props.trigger("seek",r),a.pauseAtTime=n),a.state.autoPlay&&("change"===t&&(n=a.props.dynamic.currentTime+5,a.resumePlayingTID=y.delay(800,(function(){a.pauseAtTime=n,a.props.trigger("play")}),Object(W.a)(a))),"keydown"===t&&(a.resumePlayingTID=y.delay(400,(function(){a.props.trigger("play")}),Object(W.a)(a))),"focus"===t&&(!0===a.props.data.paused||r>a.props.dynamic.currentTime?(a.props.trigger("seek",r),a.pauseAtTime=n):r<a.props.dynamic.currentTime&&n>a.props.dynamic.currentTime?a.pauseAtTime=n:r<a.props.dynamic.currentTime&&n<a.props.dynamic.currentTime&&(a.props.trigger("seek",r),a.pauseAtTime=n)))},a.pauseThisLine=function(){a.state.autoPlay&&(a.cancelAutoplay(),a.props.trigger("pause"))},a.toggleAutoPlay=function(e){a.setState({autoPlay:!a.state.autoPlay})},a.state={lines:[],searchText:"",reviewed:!!a.props.data.recording.info.words.words_reviewed,edited:!1,autoPlay:!0},a.props.data.lines.length>0)a.state.lines=a.props.data.lines,a.state.edited=!0;else for(var n=0,s=!0,i=0,l=a.props.data.recording.info.words,c={},d=0;d<l.length;d++)s=!0,c=l[d],a.state.lines[n]&&a.state.lines[n].line.length+1+c.word.length>32&&(s=!1),a.state.lines[n]&&c.start_time-i>.2&&(s=!1),!1===s&&n++,a.state.lines[n]?(a.state.lines[n].line+=" "+c.word,a.state.lines[n].end_time=c.end_time,a.state.lines[n].length=c.end_time-a.state.lines[n].start_time,a.state.lines[n].originalWords.push(c)):a.state.lines[n]={line:c.word,start_time:c.start_time,end_time:c.end_time,length:c.end_time-c.start_time,key:n,originalWords:[c],edited:!1},i=c.end_time;return a.currentCaption=-1,a.keyPrefix=1,a.startIndex=0,a.endIndex=40,a.resumePlayingTID=!1,a.pauseAtTime=!1,a.reallyDoPause=!1,a.evalVisibleWords=xe.debounce(a.evalVisibleWords,50),a}return Object(l.a)(r,[{key:"componentDidUpdate",value:function(){!1!==this.pauseAtTime&&!this.reallyDoPause&&this.props.dynamic.currentTime<this.pauseAtTime&&(this.reallyDoPause=!0),!1!==this.pauseAtTime&&this.reallyDoPause&&this.props.dynamic.currentTime>this.pauseAtTime&&(this.props.trigger("pause"),this.pauseAtTime=!1,this.reallyDoPause=!1)}},{key:"render",value:function(){var e=this,t=this.state.searchText.split(" ").map((function(e){return e.toLowerCase()})),r=this.state.autoPlay?"on":"off";return Object(h.jsxs)("div",{className:"transcript-editor",children:[Object(h.jsxs)("div",{className:"toolbar",children:[Object(h.jsx)("div",{className:"checkbox-wrap",children:Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{type:"checkbox",name:"reviewed",checked:this.state.reviewed,onChange:this.handleReviewedChange})," Reviewed"]})}),Object(h.jsxs)("button",{onClick:this.toggleAutoPlay,className:r,children:["Autoplay is ",r]}),this.state.edited?Object(h.jsx)("button",{onClick:this.saveLines,children:"Save"}):null]}),Object(h.jsx)("div",{className:"transcript-scroller",onScroll:this.onscrollHandler,children:this.state.lines.filter((function(e,r){if(t.length>0)for(var a=t.length-1;a>=0;a--)if(!e.line.toLowerCase().includes(t[a]))return!1;return!0})).map((function(t,r){return Object(h.jsx)(ke,{originalIndex:t.key,playhere:e.playThisLine,pausehere:e.pauseThisLine,cancelAutoplay:e.cancelAutoplay,editing:e.editingLine,updatebroker:e.lineUpdateRequest,trigger:e.props.trigger,lineindex:r,line:t},e.keyPrefix+"_"+t.key)}))})]})}}]),r}(a.Component),ke=function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(o.a)(this,r),(a=t.call(this,e)).handleChange=function(e){a.setState({html:e.target.value}),a.props.pausehere(),a.props.playhere(a.props.originalIndex,"change")},a.keyDownHandler=function(e){switch(e.keyCode){case 37:case 39:case 38:case 40:a.props.pausehere(),a.props.playhere(a.props.originalIndex,"keydown")}},a.onfocusHandler=function(e){a.props.playhere(a.props.originalIndex,"focus")},a.onblurHandler=function(e){if(!0===a.allowSaving&&a.state.html.trim()!==a.props.line.line){var t=a.state.html.replace(/&nbsp;/g," ");t=(t=(t=t.replace(/<br>/g," ")).replace(/ {2}/g," ")).trim(),a.setState({html:t}),a.props.updatebroker({type:"line_change",index:a.props.lineindex,newLine:t})}a.allowSaving=!0},a.jumpToLine=function(e){a.props.playhere(a.props.originalIndex,"forced")},a.state={html:a.props.line.line},a.allowSaving=!0,a}return Object(l.a)(r,[{key:"render",value:function(){var e="transcript-row";return this.props.active&&(e+=" active"),this.props.line.edited&&(e+=" edited"),Object(h.jsxs)("div",{className:e,children:[Object(h.jsx)("div",{className:"transcript-play",children:Object(h.jsx)("button",{onClick:this.jumpToLine,children:Object(h.jsx)(we,{})})}),Object(h.jsx)("div",{className:"transcript-text",children:Object(h.jsx)(me.a,{tabIndex:this.props.lineindex+1e3,className:"editable-line",onBlur:this.onblurHandler,onFocus:this.onfocusHandler,html:this.state.html,onChange:this.handleChange,onKeyDown:this.keyDownHandler})})]})}}]),r}(n.a.PureComponent),Se=Object(X.b)((function(e){return{dynamic:e.dynamic}}))(Oe),He=(r(92),function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).findByTime=function(){for(var t="",r=0;r<e.props.data.recording.info.captions.length;){var a=e.props.data.recording.info.captions[r],n=a.intime,s=a.outtime;if(e.props.dynamic.currentTime<n){t="";break}if(e.props.dynamic.currentTime>=n&&e.props.dynamic.currentTime<=s)return a.text;r++}return t},e}return Object(l.a)(r,[{key:"render",value:function(){var e=this.findByTime().split("<br />");return this.props.data.captions?Object(h.jsx)("div",{id:"captions",children:e.map((function(e,t){return Object(h.jsx)("div",{children:e},t)}))}):null}}]),r}(a.Component)),Ee=Object(X.b)((function(e){return{dynamic:e.dynamic}}))(He),Pe=r(63),Re=(r(161),r(162),r(163),function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(o.a)(this,r),(a=t.call(this,e)).calcNewTime=function(e){var t=e.clientX/a.seekbarRef.current.offsetWidth,r=Math.round(t*a.props.data.duration*10)/10;a.seek(r)},a.mousedownHandler=function(e){a.mouseDown=!0,a.state.shrinkSeekBarTID&&clearTimeout(a.state.shrinkSeekBarTID),a.setState({scrubbing:!0,hovering:!0,shrinkSeekBarTID:null}),a.calcNewTime(e)},a.mousemoveHandler=function(e){!0===a.mouseDown&&!0===a.state.scrubbing&&a.calcNewTime(e)},a.mouseupHandler=function(e){!0===a.mouseDown&&(a.mouseDown=!1,a.setState({scrubbing:!1,hovering:!1}),a.calcNewTime(e))},a.touchendHandler=function(e){var t=y.delay(3500,(function(){a.setState({scrubbing:!1,hovering:!1})}),Object(W.a)(a));a.setState({shrinkSeekBarTID:t}),a.setState({scrubbing:!1}),a.calcNewTime(e)},a.state={sliderValue:0,scrubbing:!1,hovering:!1,hoverX:0,hoverY:0,shrinkSeekBarTID:null},a.seekbarRef=n.a.createRef(),a.mouseDown=!1,a}return Object(l.a)(r,[{key:"componentDidMount",value:function(){window.addEventListener("mousemove",this.mousemoveHandler),window.addEventListener("mouseup",this.mouseupHandler)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("mousemove",this.mousemoveHandler),window.removeEventListener("mouseup",this.mouseupHandler)}},{key:"seek",value:function(e){this.props.seekHandler(e),y.emit("player.controls.seek")}},{key:"render",value:function(){var e={},t={},r={};if(this.seekbarRef.current){var a=this.seekbarRef.current.offsetWidth,n=this.props.dynamic.currentTime,s=this.props.data.duration,i=Math.ceil(n)/Math.ceil(s)*a;i<6&&(i=6),e.left=i+6>a?a-12+"px":i-6+"px",t.width=i+"px";var o=this.props.dynamic.startBuffer/s;r={left:o+"%",width:100*(this.props.dynamic.endBuffer/s-o)+"%"}}var l="controls-seek-bar-container";return!0===this.state.scrubbing&&(l+=" scrubbing",(J.android()||J.ios())&&(l+=" active")),Object(h.jsx)("div",{ref:this.seekbarRef,className:l,onMouseDown:this.mousedownHandler,children:Object(h.jsxs)("div",{className:"controls-slider-track controls-seek-bar",children:[Object(h.jsx)("div",{style:e,className:"controls-slider-thumb controls-progress-thumb"}),Object(h.jsx)("div",{style:t,className:"controls-slider-bar controls-progress-bar"}),Object(h.jsx)("div",{style:r,className:"controls-buffer-bar"}),Object(h.jsx)("div",{className:"controls-hover-time",id:"hover-time",children:"bbbb"})]})})}}]),r}(a.Component)),Ae=Object(X.b)((function(e){return{dynamic:e.dynamic}}))(Re),Ne=(r(164),function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){var e=[{kbkey:"SPACE",desc:"Play / Pause video"},{kbkey:"\u2191",desc:"Volume up"},{kbkey:"\u2193",desc:"Volume down"},{kbkey:"m",desc:"Toggle mute"},{kbkey:"r",desc:"Change playback rate"},{kbkey:"1-7",desc:"Show/hide sources"},{kbkey:"q",desc:"Go backward 10 seconds"},{kbkey:"w",desc:"Go forward 10 seconds"},{kbkey:"c",desc:"Toggle compact controls"}];this.props.data.supportsCaptions&&(e=e.concat([{kbkey:"s",desc:"Toggle captions"}])),this.props.data.supportsThumbnails&&(e=e.concat([{kbkey:"t",desc:"Toggle thumbnails"},{kbkey:"\u2190 or j",desc:"Previous slide"},{kbkey:"\u2192 or k",desc:"Next slide"},{kbkey:"y",desc:"Cycle thumbnails"}])),this.props.data.supportsWhiteboard&&(e=e.concat([{kbkey:"[ or ]",desc:"Move whiteboard"}]));var t=(e=e.concat([{kbkey:"f",desc:"Toggle fullscreen mode"},{kbkey:"ESC",desc:"Exit fullscreen mode"},{kbkey:"? or h",desc:"Toggle help menu"}])).length,r=[],a=[];return e.forEach((function(e,n){n<t/2?r.push(e):a.push(e)})),Object(h.jsxs)("div",{id:"help-container",children:[Object(h.jsx)("h2",{children:"Keyboard Shortcuts"}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col",children:r.map((function(e,t){return Object(h.jsxs)("dl",{children:[Object(h.jsx)("dt",{children:e.kbkey}),Object(h.jsx)("dd",{children:e.desc})]},"col-{i}")}))}),Object(h.jsx)("div",{className:"col",children:a.map((function(e,t){return Object(h.jsxs)("dl",{children:[Object(h.jsx)("dt",{children:e.kbkey}),Object(h.jsx)("dd",{children:e.desc})]},"col-{i}")}))})]})]})}}]),r}(a.Component)),Te=Ne,Ie=["title","titleId"];function Ce(){return Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ce.apply(this,arguments)}function De(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Le(e,t){var r=e.title,n=e.titleId,s=De(e,Ie);return a.createElement("svg",Ce({enableBackground:"new 0 0 25 25",height:25,viewBox:"0 0 25 25",width:25,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),r?a.createElement("title",{id:n},r):null,ye||(ye=a.createElement("path",{d:"m12.5 12.5 10.257 5.925v-11.851z"})),je||(je=a.createElement("path",{d:"m2.243 12.5 10.257 5.925v-11.851z"})))}var _e,Me=a.forwardRef(Le),Be=(r.p,["title","titleId"]);function We(){return We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},We.apply(this,arguments)}function ze(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Fe(e,t){var r=e.title,n=e.titleId,s=ze(e,Be);return a.createElement("svg",We({enableBackground:"new 0 0 25 25",height:25,viewBox:"0 0 25 25",width:25,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),r?a.createElement("title",{id:n},r):null,_e||(_e=a.createElement("path",{d:"m19.713 12.5-14.426-8.328v16.655z"})))}var Ue,Ve,Ge=a.forwardRef(Fe),Qe=(r.p,["title","titleId"]);function Je(){return Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Je.apply(this,arguments)}function Xe(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ye(e,t){var r=e.title,n=e.titleId,s=Xe(e,Qe);return a.createElement("svg",Je({enableBackground:"new 0 0 25 25",height:25,viewBox:"0 0 25 25",width:25,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),r?a.createElement("title",{id:n},r):null,Ue||(Ue=a.createElement("path",{d:"m4.813 4.002h4.525v16.986h-4.525z"})),Ve||(Ve=a.createElement("path",{d:"m15.662 4.002h4.524v16.986h-4.524z"})))}var qe,Ze,Ke=a.forwardRef(Ye),$e=(r.p,["title","titleId"]);function et(){return et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},et.apply(this,arguments)}function tt(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rt(e,t){var r=e.title,n=e.titleId,s=tt(e,$e);return a.createElement("svg",et({enableBackground:"new 0 0 25 25",height:25,viewBox:"0 0 25 25",width:25,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),r?a.createElement("title",{id:n},r):null,qe||(qe=a.createElement("path",{d:"m12.5 12.5-10.257-5.926v11.851z"})),Ze||(Ze=a.createElement("path",{d:"m22.757 12.5-10.257-5.926v11.851z"})))}var at,nt,st=a.forwardRef(rt),it=(r.p,["title","titleId"]);function ot(){return ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ot.apply(this,arguments)}function lt(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ct(e,t){var r=e.title,n=e.titleId,s=lt(e,it);return a.createElement("svg",ot({enableBackground:"new 0 0 26 26",height:26,viewBox:"0 0 26 26",width:26,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),r?a.createElement("title",{id:n},r):null,at||(at=a.createElement("path",{d:"m5.261 9.557h-5.261v.004 6.878.004h5.261l7.135 4.394v-7.531-.612-7.531z"})),nt||(nt=a.createElement("path",{d:"m22.34 13.025 2.824-2.824c.393-.393.393-1.028 0-1.421s-1.029-.393-1.422 0l-2.823 2.823-2.823-2.823c-.394-.393-1.029-.393-1.422 0s-.393 1.028 0 1.421l2.823 2.824-2.823 2.823c-.393.393-.393 1.029 0 1.422.195.196.453.294.711.294.257 0 .514-.098.711-.294l2.823-2.824 2.823 2.824c.195.196.453.294.711.294.256 0 .514-.098.711-.294.393-.393.393-1.029 0-1.422z"})))}var dt,pt,ut,ht=a.forwardRef(ct),mt=(r.p,["title","titleId"]);function ft(){return ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ft.apply(this,arguments)}function bt(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gt(e,t){var r=e.title,n=e.titleId,s=bt(e,mt);return a.createElement("svg",ft({enableBackground:"new 0 0 26 26",height:26,viewBox:"0 0 26 26",width:26,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),r?a.createElement("title",{id:n},r):null,dt||(dt=a.createElement("path",{d:"m5.279 9.3h-5.26v.004 6.88.004h5.26l7.135 4.393v-7.531-.612-7.531z"})),pt||(pt=a.createElement("path",{d:"m22.734 21.374c1.742-2.344 2.784-5.243 2.784-8.385 0-3.166-1.052-6.093-2.827-8.451-.283-.469-.793-.787-1.381-.787-.891 0-1.613.723-1.613 1.615 0 .309.091.594.241.84l-.006.004c.013.017.023.035.037.052.005.006.01.012.014.019 1.454 1.851 2.321 4.169 2.321 6.708 0 2.478-.84 4.763-2.241 6.591-.239.283-.389.644-.389 1.043 0 .898.729 1.626 1.626 1.626.626 0 1.162-.357 1.434-.875z"})),ut||(ut=a.createElement("path",{d:"m16.572 7.077c-.051-.055-.105-.105-.164-.152-.004-.002-.006-.005-.008-.008h-.001c-.235-.183-.526-.296-.848-.296-.766 0-1.386.621-1.386 1.386 0 .419.189.791.483 1.044l-.005.006c1.129.94 1.845 2.346 1.845 3.931 0 1.603-.743 3.036-1.916 3.976-.045.045-.081.081-.107.125-.188.232-.305.537-.305.859 0 .771.627 1.397 1.397 1.397.188 0 .367-.036.527-.099.09-.044.17-.089.251-.143s.152-.107.215-.179c1.657-1.451 2.704-3.573 2.704-5.937.002-2.358-1.039-4.469-2.682-5.91z"})))}var vt,yt,jt=a.forwardRef(gt),wt=(r.p,["title","titleId"]);function xt(){return xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},xt.apply(this,arguments)}function Ot(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kt(e,t){var r=e.title,n=e.titleId,s=Ot(e,wt);return a.createElement("svg",xt({enableBackground:"new 0 0 26 26",height:26,viewBox:"0 0 26 26",width:26,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),r?a.createElement("title",{id:n},r):null,vt||(vt=a.createElement("path",{d:"m5.261 9.556h-5.261v.004 6.879.004h5.261l7.135 4.394v-7.531-.612-7.531z"})),yt||(yt=a.createElement("path",{d:"m16.555 7.333c-.051-.056-.106-.105-.166-.152-.002-.002-.004-.005-.008-.007-.234-.183-.526-.297-.848-.297-.766 0-1.387.621-1.387 1.386 0 .419.19.79.484 1.044l-.004.006c1.127.94 1.844 2.346 1.844 3.931 0 1.603-.743 3.036-1.916 3.976-.045.045-.08.08-.107.125-.188.233-.305.537-.305.859 0 .771.627 1.397 1.396 1.397.188 0 .367-.036.529-.099.089-.045.17-.09.25-.144.081-.054.152-.107.215-.179 1.656-1.451 2.705-3.573 2.705-5.937.001-2.357-1.04-4.468-2.682-5.909z"})))}var St,Ht,Et,Pt=a.forwardRef(kt),Rt=(r.p,["title","titleId"]);function At(){return At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},At.apply(this,arguments)}function Nt(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Tt(e,t){var r=e.title,n=e.titleId,s=Nt(e,Rt);return a.createElement("svg",At({enableBackground:"new 0 0 25 25",height:25,viewBox:"0 0 25 25",width:25,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),r?a.createElement("title",{id:n},r):null,St||(St=a.createElement("path",{d:"m.664 21.154h23.672v-17.26h-23.672zm20.297-3.481c-.152.191-.346.346-.566.452-.702.529-3.99.702-7.817.73-3.827.029-7.27-.201-7.952-.73-.232-.105-.438-.26-.606-.452-.692-.962-.798-2.24-.836-5.25-.039-3.009.145-4.317.836-5.25.175-.18.38-.329.605-.442.683-.52 4.135-.702 7.952-.702s7.115.183 7.817.702c.214.116.407.269.567.452.712.961.828 2.24.856 5.25s-.145 4.327-.856 5.25"})),Ht||(Ht=a.createElement("path",{d:"m8.654 15.279c-1.221 0-1.442-1.212-1.442-2.5 0-1.769.51-2.673 1.356-2.673s1.23.548 1.298 1.5h2.25c-.202-2.346-1.452-3.741-3.692-3.741-2.048 0-3.654 1.846-3.654 4.808s1.462 4.808 3.846 4.808c1.923 0 3.289-1.433 3.51-3.798h-2.28c-.086.875-.452 1.557-1.231 1.557"})),Et||(Et=a.createElement("path",{d:"m16.605 15.279c-1.23 0-1.451-1.212-1.451-2.5 0-1.769.51-2.673 1.355-2.673s1.23.548 1.308 1.5h2.278c-.191-2.346-1.451-3.741-3.691-3.741-2.049 0-3.654 1.846-3.654 4.808s1.471 4.808 3.846 4.808c1.924 0 3.289-1.433 3.5-3.798h-2.307c-.097.875-.462 1.558-1.231 1.558"})))}var It,Ct,Dt,Lt,_t=a.forwardRef(Tt),Mt=(r.p,["title","titleId"]);function Bt(){return Bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Bt.apply(this,arguments)}function Wt(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zt(e,t){var r=e.title,n=e.titleId,s=Wt(e,Mt);return a.createElement("svg",Bt({enableBackground:"new 0 0 20 20",height:20,viewBox:"0 0 20 20",width:20,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),r?a.createElement("title",{id:n},r):null,It||(It=a.createElement("path",{d:"m20 18h-20v-4h20zm-14.29-3h-2.924v2h2.924zm5.785 0h-2.925v2h2.925zm2.762 0v2h2.925v-2z"})),Ct||(Ct=a.createElement("path",{d:"m20 6h-20v-4h20zm-11.43-1h2.925v-2h-2.925zm-2.86 0v-2h-2.924v2zm11.472 0v-2h-2.925v2z"})),Dt||(Dt=a.createElement("path",{d:"m2.5 5.511h2v9.009h-2z"})),Lt||(Lt=a.createElement("path",{d:"m15.5 5.511h2v9.009h-2z"})))}var Ft,Ut,Vt=a.forwardRef(zt),Gt=(r.p,["title","titleId"]);function Qt(){return Qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Qt.apply(this,arguments)}function Jt(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Xt(e,t){var r=e.title,n=e.titleId,s=Jt(e,Gt);return a.createElement("svg",Qt({enableBackground:"new 0 0 25 25",height:25,viewBox:"0 0 25 25",width:25,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),r?a.createElement("title",{id:n},r):null,Ft||(Ft=a.createElement("path",{d:"m22.249 2.751h-8.478l3.364 3.364-4.384 4.385 1.751 1.749 4.384-4.384 3.363 3.364z"})),Ut||(Ut=a.createElement("path",{d:"m2.751 22.249h8.478l-3.364-3.363 4.384-4.385-1.751-1.749-4.383 4.383-3.364-3.364z"})))}var Yt,qt,Zt=a.forwardRef(Xt),Kt=(r.p,["title","titleId"]);function $t(){return $t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},$t.apply(this,arguments)}function er(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tr(e,t){var r=e.title,n=e.titleId,s=er(e,Kt);return a.createElement("svg",$t({enableBackground:"new 0 0 25 25",height:25,viewBox:"0 0 25 25",width:25,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),r?a.createElement("title",{id:n},r):null,Yt||(Yt=a.createElement("path",{d:"m12.751 12.249h8.478l-3.363-3.364 4.383-4.385-1.751-1.749-4.385 4.384-3.362-3.364z"})),qt||(qt=a.createElement("path",{d:"m12.249 12.752h-8.478l3.364 3.363-4.384 4.385 1.751 1.749 4.383-4.383 3.364 3.363z"})))}var rr,ar=a.forwardRef(tr),nr=(r.p,function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(o.a)(this,r),(a=t.call(this,e)).keydownHandler=function(e){var t=e.target||e.srcElement;if(!(e.shiftKey||e.ctrlKey||e.altKey||e.metaKey)||191===e.keyCode){if(t){if("INPUT"===t.tagName)return;if("editable-word"===t.className)return void(13===e.keyCode&&e.preventDefault());if("editable-line"===t.className)return void(13===e.keyCode&&e.preventDefault())}switch(e.keyCode){case 27:a.closeHelp(null);break;case 32:e.preventDefault(),a.playpauseclickHandler();break;case 81:a.backclickHandler();break;case 87:a.forwardclickHandler();break;case 37:case 74:a.props.data.supportsThumbnails&&y.emit("player.previousThumbnail");break;case 39:case 75:a.props.data.supportsThumbnails&&y.emit("player.nextThumbnail");break;case 38:a.volumeUp();break;case 40:a.volumeDown();break;case 67:a.toggleControls();break;case 70:a.fullscreenclickHandler();break;case 77:a.volumebuttonclickHandler();break;case 82:a.rateclickHandler();break;case 83:a.props.data.supportsCaptions&&a.captionsclickHandler();break;case 84:a.props.data.supportsThumbnails&&a.toggleThumbnails();break;case 89:a.props.data.supportsThumbnails&&a.thumbnailclickHandler();break;case 72:a.helpclickHandler();break;case 191:e.shiftKey&&a.helpclickHandler();break;case 219:a.props.data.supportsWhiteboard&&a.shiftWhiteboardLeft();break;case 221:a.props.data.supportsWhiteboard&&a.shiftWhiteboardRight();break;case 49:case 50:case 51:case 52:case 53:case 54:case 55:a.toggleSource(e.keyCode-49)}}},a.toggleSource=function(e){var t=JSON.parse(JSON.stringify(a.props.data.visiblePresets)),r=a.props.data.visiblePresets.stage.length,n=a.props.data.visiblePresets.whiteboard.length;if(e<r)t.stage[e].visible=!t.stage[e].visible,a.props.updatePlayerState({visiblePresets:t});else if(e<r+n){e-=r;for(var s=t.whiteboard.length-1;s>=0;s--)t.whiteboard[s].visible=s===e&&!t.whiteboard[s].visible;a.props.updatePlayerState({visiblePresets:t})}},a.toggleThumbnails=function(){a.props.updatePlayerState({thumbnails:!a.props.data.thumbnails})},a.toggleControls=function(){a.props.updatePlayerState({controls:!a.props.data.controls})},a.backclickHandler=function(){a.props.trigger("backward")},a.forwardclickHandler=function(){a.props.trigger("forward")},a.playpauseclickHandler=function(){a.props.trigger("playpause")},a.hasCaptions=function(){return a.props.data.recording.info.captions.length>0},a.captionsclickHandler=function(e){a.props.trigger("toggleCaptions")},a.fullscreenclickHandler=function(e){y.emit("player.togglefullscreen")},a.shiftWhiteboardLeft=function(e){y.emit("player.shiftwhiteboardleft")},a.shiftWhiteboardRight=function(e){y.emit("player.shiftwhiteboardright")},a.seekHandler=function(e){a.props.trigger("seek",e)},a.volumeUp=function(){var e=0;!0===a.isMuted()?a.state.mutedVolume>0?(e=a.state.mutedVolume+.1,a.setState({mutedVolume:0})):e=.1:e=a.props.data.volume+.1,e=Math.min(1,e),a.props.trigger("setVolume",e)},a.volumeDown=function(){var e=0;!0===a.isMuted()?a.state.mutedVolume>0?(e=a.state.mutedVolume-.1,a.setState({mutedVolume:0})):e=0:e=a.props.data.volume-.1,e=Math.max(0,e),a.props.trigger("setVolume",e)},a.volumebuttonclickHandler=function(){!0===a.isMuted()?(a.state.mutedVolume>0?a.props.trigger("setVolume",a.state.mutedVolume):a.props.trigger("setVolume",1),a.setState({mutedVolume:0})):(a.setState({mutedVolume:a.props.data.volume}),a.props.trigger("setVolume",0))},a.volumeslideronBeforeChangeHandler=function(){a.setState({activelySliding:!0})},a.volumesliderchangeHandler=function(e){a.props.trigger("setVolume",e),a.setState({sliderValue:e})},a.volumeslideronAfterChangeHandler=function(){a.setState({activelySliding:!1})},a.rateclickHandler=function(){var e=a.props.data.playbackRate;e>=2&&(e=0),a.props.trigger("setPlaybackRate",a.snapToPresetRate(e))},a.ratedirectclickHandler=function(e){a.props.trigger("setPlaybackRate",e)},a.thumbnailclickHandler=function(){if(!1===a.props.data.thumbnails)a.props.updatePlayerState({thumbnails:!0});else if(1===a.props.data.enabledPresets.thumbnailChoices.length)a.props.updatePlayerState({thumbnails:!1});else{for(var e=0,t=0;t<a.props.data.enabledPresets.thumbnailChoices.length;t++)if(a.props.data.selectedThumbnails[0]===a.props.data.enabledPresets.thumbnailChoices[t][0]&&a.props.data.selectedThumbnails[1]===a.props.data.enabledPresets.thumbnailChoices[t][1]){e=t;break}++e>a.props.data.enabledPresets.thumbnailChoices.length-1&&(e=0),a.props.updatePlayerState({selectedThumbnails:a.props.data.enabledPresets.thumbnailChoices[e]})}},a.helpclickHandler=function(){a.setState({showHelp:!a.state.showHelp},(function(){!0===a.state.showHelp?document.documentElement.classList.add("show-help"):document.documentElement.classList.remove("show-help")}))},a.closeHelp=function(e){e&&e.target.classList.contains("controls-help-btn")||!0===a.state.showHelp&&a.setState({showHelp:!1},(function(){document.documentElement.classList.remove("show-help")}))},a.state={mutedVolume:0,activelySliding:!1,sliderValue:a.props.data.volume,showHelp:!1},a}return Object(l.a)(r,[{key:"componentDidUpdate",value:function(){!1===this.state.activelySliding&&this.state.sliderValue!==this.props.data.volume&&this.setState({sliderValue:this.props.data.volume})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keydownHandler),document.addEventListener("click",this.closeHelp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keydownHandler),document.removeEventListener("click",this.closeHelp)}},{key:"isMuted",value:function(){return!(this.props.data.volume>0)}},{key:"snapToPresetRate",value:function(e){return e<.8?.8:e<1?1:e<1.2?1.2:e<1.5?1.5:e<=2?2:void 0}},{key:"render",value:function(){var e=this,t=["controls-play-pause-btn"];this.props.data.paused||t.push("controls-play-pause-btn-playing");var r=this.props.data.playbackRate,a="";a=r>1.51?"2x":r>1.21?"1.5x":r>1?"1.2x":r>.81?"1x":"0.8x";var n="controls-slider controls-volume";!0===this.state.activelySliding&&(n+=" controls-slider-active");var s=this.props.data.volume,i=Object(h.jsx)(jt,{});s>.5||(i=s<=.5&&s>0?Object(h.jsx)(Pt,{}):Object(h.jsx)(ht,{}));var o="controls-captions-btn right";this.props.data.captions&&(o+=" controls-captions-btn-visible");var l="controls";return this.props.data.controls||(l+=" controls-compact"),Object(h.jsxs)("div",{className:l,children:[this.state.showHelp?Object(h.jsx)(Te,{data:this.props.data}):null,Object(h.jsx)("div",{className:"controls-first-row",children:Object(h.jsx)(Ae,{data:this.props.data,seekHandler:this.seekHandler})}),Object(h.jsxs)("div",{className:"controls-second-row",children:[Object(h.jsx)(ir,{tabIndex:"0",className:"controls-back-btn",title:"Go backward 10 seconds (q)",actionhandler:this.backclickHandler,children:Object(h.jsx)(Me,{})}),Object(h.jsx)(ir,{tabIndex:"0",className:t.join(" "),title:"Play/Pause (SPACE)",actionhandler:this.playpauseclickHandler,children:this.props.data.paused?Object(h.jsx)(Ge,{}):Object(h.jsx)(Ke,{})}),Object(h.jsx)(ir,{tabIndex:"0",className:"controls-forward-btn",title:"Go forward 10 seconds (w)",actionhandler:this.forwardclickHandler,children:Object(h.jsx)(st,{})}),Object(h.jsxs)("div",{className:n,children:[Object(h.jsx)(ir,{className:"controls-slider-btn controls-volume-btn",title:"Adjust volume (\u2191/\u2193), Mute (m)",actionhandler:this.volumebuttonclickHandler,children:i}),Object(h.jsx)(Pe.a,{onBeforeChange:this.volumeslideronBeforeChangeHandler,onChange:this.volumesliderchangeHandler,onAfterChange:this.volumeslideronAfterChangeHandler,max:1,value:this.state.sliderValue,step:.01})]}),Object(h.jsxs)("div",{className:"controls-slider controls-playback-rate",children:[Object(h.jsx)(ir,{tabIndex:"0",className:"controls-playback-rate-btn controls-text-btn",title:"Adjust playback rate (s)",actionhandler:this.rateclickHandler,children:a}),Object(h.jsx)(ir,{tabIndex:"0",className:"controls-playback-rate-btn controls-text-btn controls-secondary-button",selected:"0.8x"===a,title:"Adjust playback rate to 0.8 times speed",actionhandler:this.ratedirectclickHandler,actionValue:.8,children:"0.8x"}),Object(h.jsx)(ir,{tabIndex:"0",className:"controls-playback-rate-btn controls-text-btn controls-secondary-button",selected:"1x"===a,title:"Adjust playback rate to 1 times speed",actionhandler:this.ratedirectclickHandler,actionValue:1,children:"1x"}),Object(h.jsx)(ir,{tabIndex:"0",className:"controls-playback-rate-btn controls-text-btn controls-secondary-button",selected:"1.2x"===a,title:"Adjust playback rate to 1.2 times speed",actionhandler:this.ratedirectclickHandler,actionValue:1.2,children:"1.2x"}),Object(h.jsx)(ir,{tabIndex:"0",className:"controls-playback-rate-btn controls-text-btn controls-secondary-button",selected:"1.5x"===a,title:"Adjust playback rate to 1.5 times speed",actionhandler:this.ratedirectclickHandler,actionValue:1.5,children:"1.5x"}),Object(h.jsx)(ir,{tabIndex:"0",className:"controls-playback-rate-btn controls-text-btn controls-secondary-button",selected:"2x"===a,title:"Adjust playback rate to 2 times speed",actionhandler:this.ratedirectclickHandler,actionValue:2,children:"2x"})]}),this.props.data.browsercapabilities.fullscreen?Object(h.jsx)(ir,{tabIndex:"10",className:"controls-fullscreen-btn right",title:"Toggle fullscreen mode (f)",actionhandler:this.fullscreenclickHandler,children:this.props.data.fullscreen?Object(h.jsx)(ar,{}):Object(h.jsx)(Zt,{})}):null,this.props.data.supportsThumbnails>0?Object(h.jsxs)("div",{className:"controls-flyup-menu-container right",children:[Object(h.jsx)(ir,{tabIndex:"0",className:"controls-thumbnails-btn",title:"Hide/show (t) thumbnails, Cycle (y), ",actionhandler:this.thumbnailclickHandler,children:Object(h.jsx)(Vt,{})}),Object(h.jsxs)("div",{className:"controls-flyup-menu",children:[this.props.data.enabledPresets.thumbnailChoices.length>1?this.props.data.enabledPresets.thumbnailChoices.map((function(t,r){return Object(h.jsx)(sr,{tabIndex:"0",data:e.props.data,choice:t,updatePlayerState:e.props.updatePlayerState,children:t[2]},r)})):null,Object(h.jsxs)(sr,{data:this.props.data,showThumbnails:this.props.data.thumbnails,updatePlayerState:this.props.updatePlayerState,children:[this.props.data.thumbnails?"Hide":"Show"," Thumbnails"]})]})]}):null,this.hasCaptions()?Object(h.jsx)(ir,{tabIndex:"0",className:o,title:"Toggle Captions (s)",actionhandler:this.captionsclickHandler,children:Object(h.jsx)(_t,{})}):null,Object(h.jsx)(ir,{tabIndex:"0",className:"controls-help-btn controls-text-btn right",title:"Show keyboard shortcuts (h or ?)",actionhandler:this.helpclickHandler,children:"?"}),Object(h.jsx)(or,{data:this.props.data})]})]})}}]),r}(a.Component)),sr=function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).clickHandler=function(t){e.props.choice?e.props.updatePlayerState({selectedThumbnails:e.props.choice,thumbnails:!0}):e.props.updatePlayerState({thumbnails:!e.props.showThumbnails})},e}return Object(l.a)(r,[{key:"render",value:function(){var e="flyoutbutton";return this.props.data.thumbnails&&this.props.choice&&this.props.data.selectedThumbnails[0]===this.props.choice[0]&&this.props.data.selectedThumbnails[1]===this.props.choice[1]&&(e+=" active"),Object(h.jsx)("button",{className:e,onClick:this.clickHandler,children:this.props.children})}}]),r}(a.Component),ir=function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(o.a)(this,r),(a=t.call(this,e)).mouseUpHandler=function(){a.buttonRef.current.blur()},a.clickHandler=function(e){a.props.actionValue?a.props.actionhandler(a.props.actionValue):a.props.actionhandler()},a.buttonRef=n.a.createRef(),a}return Object(l.a)(r,[{key:"render",value:function(){var e="controlbutton "+this.props.className;return this.props.selected&&(e+=" selected"),Object(h.jsx)("button",{ref:this.buttonRef,tabIndex:this.props.tindex,className:e,title:this.props.title,onMouseUp:this.mouseUpHandler,onClick:this.clickHandler,children:this.props.children})}}]),r}(a.Component),or=Object(X.b)((function(e){return{dynamic:e.dynamic}}))((function(e){return Object(h.jsxs)("div",{className:"controls-time right",children:[Object(h.jsx)("span",{className:"controls-current-time",children:e.dynamic.formattedTime})," / ",Object(h.jsx)("span",{className:"controls-duration",children:e.data.formattedDuration})]})})),lr=nr,cr=(r(165),function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(o.a)(this,r),(a=t.call(this,e)).getVisibleThumbs=function(){var e={},t=a.props.data.selectedThumbnails[0],r=a.props.data.selectedThumbnails[1],n=a.props.data.recording.mediaPrefix+a.props.data.recording.sitekey+"/";switch(t){case"slides":e.thumbnails=a.props.data.recording.info.thumbnails,e.baseUrl=n+a.props.data.recording.info.thumbnails_folder+"/t",e.width=160,e.scrollableWidth=a.props.data.recording.info.thumbnails.length*(e.width+20);break;case"a":case"w":var s=a.props.data.recording.info.aux_sources;e.thumbnails=s[r].thumbnails,e.baseUrl=n+s[r].folder+"/"+s[r].prefix+"t",e.height=s[r].thumbHeight?s[r].thumbHeight:120,e.width=s[r].thumbWidth?s[r].thumbWidth:160,e.width=e.width/e.height*120;var i=.307*a.windowWidth-20;e.width>i&&(e.width=i),e.width<160&&(e.width=160),e.scrollableWidth=s[r].thumbnails.length*(e.width+20)}return e},a.thumnbailClickedHandler=function(e){y.emit("player.thing.select"),a.props.trigger("seek",e)},a.previousThumbnail=function(){y.emit("player.thing.select");var e=y.getIndexofThingByTime(a.props.dynamic.currentTime,a.state.visibleSet.thumbnails);e=Math.max(0,e-1),a.props.trigger("seek",a.state.visibleSet.thumbnails[e][1])},a.nextThumbnail=function(){y.emit("player.thing.select");var e=y.getIndexofThingByTime(a.props.dynamic.currentTime,a.state.visibleSet.thumbnails);e=Math.min(a.state.visibleSet.thumbnails.length-1,e+1),a.props.trigger("seek",a.state.visibleSet.thumbnails[e][1])},a.onResizeHandler=function(e){a.windowWidth=e,a.setState({visibleSet:a.getVisibleThumbs()})},a.shouldComponentUpdate=function(e,t){if(a.state!==t)return!0;for(var r in e)if("dynamic"!==r&&a.props[r]!==e[r])return!0;return y.getIndexofThingByTime(a.props.dynamic.currentTime,a.state.visibleSet.thumbnails)!==y.getIndexofThingByTime(e.dynamic.currentTime,t.visibleSet.thumbnails)},a.thumbnailBaseUrl="",a.state={thumbnailWidth:160,visibleSet:!1},a.windowWidth=a.props.data.dimensions.windowWidth,a.props.data.selectedThumbnails.length>0&&(a.state.visibleSet=a.getVisibleThumbs()),a}return Object(l.a)(r,[{key:"componentDidMount",value:function(){document.addEventListener("player.previousThumbnail",this.previousThumbnail),document.addEventListener("player.nextThumbnail",this.nextThumbnail)}},{key:"componentWillUnmount",value:function(){document.addEventListener("player.previousThumbnail",this.previousThumbnail),document.addEventListener("player.nextThumbnail",this.nextThumbnail)}},{key:"componentDidUpdate",value:function(e,t){e.data.selectedThumbnails!==this.props.data.selectedThumbnails&&this.setState({visibleSet:this.getVisibleThumbs()})}},{key:"render",value:function(){var e=this;if(!this.state.visibleSet&&!this.state.visibleSet.thumbnails)return null;var t,r=y.getIndexofThingByTime(this.props.dynamic.currentTime,this.state.visibleSet.thumbnails);return t=r*(this.state.visibleSet.width+20),Object(h.jsxs)(se,{id:"thumbnail-wrapper",position:t,minimap:!1,scrollbar:!0,originalImageDimensions:{w:this.state.visibleSet.scrollableWidth,h:20},width:this.state.visibleSet.scrollableWidth,height:this.props.data.dimensions.thumbnailsHeight,children:[Object(h.jsx)("div",{className:"thumbnails",style:{width:this.state.visibleSet.scrollableWidth+"px"},children:this.state.visibleSet.thumbnails.map((function(t,a){return Object(h.jsx)(pr,{selected:r===a,thumbnailBaseUrl:e.state.visibleSet.baseUrl,width:e.state.visibleSet.width+20,height:e.state.visibleSet.height,imageArray:t,thumnbailClicked:e.thumnbailClickedHandler},a)}))}),Object(h.jsx)(z.a,{handleWidth:!0,onResize:this.onResizeHandler,refreshMode:"debounce",refreshOptions:{leading:!1,trailing:!0},refreshRate:250})]})}}]),r}(a.Component)),dr=Object(X.b)((function(e){return{dynamic:e.dynamic}}))(cr),pr=function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(o.a)(this,r),(a=t.call(this,e)).onMouseDownHandler=function(e){a.lastPositionX=e.clientX},a.onMouseUpHandler=function(e){var t=e.clientX;a.lastPositionX===t&&a.props.thumnbailClicked(a.props.imageArray[1])},a.lastPositionX=0,a}return Object(l.a)(r,[{key:"render",value:function(){return Object(h.jsx)("div",{className:"thumbnail"+(!0===this.props.selected?" thumbnail-selected":""),style:{width:this.props.width+"px"},onMouseDown:this.onMouseDownHandler,onMouseUp:this.onMouseUpHandler,children:null===this.props.imageArray[0]?Object(h.jsx)("div",{style:{width:this.props.width-20+"px",height:"120px"},children:"No Signal"}):Object(h.jsx)("div",{style:{width:this.props.width-20+"px",backgroundImage:"url("+this.props.thumbnailBaseUrl+this.props.imageArray[0]+".jpg)"}})})}}]),r}(n.a.Component),ur=r(61),hr=(r(167),function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(o.a)(this,r),(a=t.call(this,e)).gotoHandler=function(){var e=window.location.hash;if(e.includes("#goto=")){var t=e.substring(6);if(isNaN(t)||Number(t)%1!==0||Number(t)>Math.floor(a.state.duration))console.error("URL `goto` hash parameter is not valid. It must be an integer representing seconds elapsed since the beginning of the capture.");else{var r=Number(t);a.triggerHandler("seek",r),a.triggerHandler("play")}}},a.triggerHandler=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("toggleCaptions"===e)a.props.updatePlayerState({captions:!a.props.data.captions});else a.videoRef.current.handleEvent(e,t)},a.ondragfinishedHandler=function(e){a.setState({lastPaneSize:e})},a.videoRef=n.a.createRef(),a.state={lastPaneSize:""},a}return Object(l.a)(r,[{key:"componentDidMount",value:function(){window.addEventListener("hashchange",this.gotoHandler)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("hashchange",this.gotoHandler)}},{key:"render",value:function(){var e=!1,t=!1,r=void 0,a=0,n=150,s="first";if(this.props.data.visiblePresets.stage.length>0)for(var i=this.props.data.visiblePresets.stage.length-1;i>=0;i--)!0===this.props.data.visiblePresets.stage[i].visible&&(e=!0);if(this.props.data.visiblePresets.whiteboard.length>0)for(var o=this.props.data.visiblePresets.whiteboard.length-1;o>=0;o--)!0===this.props.data.visiblePresets.whiteboard[o].visible&&(t=!0);!0===e&&!0===t&&(a=void 0,n=void 0,""!==this.state.lastPaneSize?(a=this.state.lastPaneSize,r=void 0):r="30%"),!1===e&&!0===t&&(r="100%",a="100%",n="100%",s="second"),!0===e&&!1===t&&(r="100%",a="100%",n="100%");var l=this.props.data.dimensions,c=l.extraHeaderHeight+l.wordeditorHeight*this.props.data.wordeditor+l.captionsHeight*this.props.data.captions+l.controlsHeight*this.props.data.controls+l.compactControlsHeight*!this.props.data.controls+l.thumbnailsHeight*this.props.data.thumbnails,d="100%",p=!1;return this.props.data.transcript&&(d="calc(100% - 450px)",p=!0),this.props.data.transcripteditor&&(d="calc(100% - 450px)",p=!0),Object(h.jsxs)("div",{className:"viewer",children:[Object(h.jsxs)("div",{style:{height:"calc(100% - "+c+"px)",position:"relative"},children:[Object(h.jsxs)(ur.a,{onDragFinished:this.ondragfinishedHandler,style:{width:d},split:"vertical",minSize:n,defaultSize:r,size:a,primary:s,children:[Object(h.jsx)(ee,{ref:this.videoRef,data:this.props.data,updatePlayerState:this.props.updatePlayerState}),!0===t?Object(h.jsx)(oe,{data:this.props.data,updatePlayerState:this.props.updatePlayerState}):Object(h.jsx)("div",{})]}),p?Object(h.jsxs)("div",{className:"feature-content-pane",children:[this.props.data.transcript?Object(h.jsx)(ue,{data:this.props.data,trigger:this.triggerHandler}):null,this.props.data.transcripteditor?Object(h.jsx)(Se,{data:this.props.data,trigger:this.triggerHandler,updatePlayerState:this.props.updatePlayerState}):null]}):null]}),Object(h.jsx)(Ee,{data:this.props.data}),Object(h.jsx)(lr,{data:this.props.data,trigger:this.triggerHandler,updatePlayerState:this.props.updatePlayerState}),this.props.data.supportsThumbnails?Object(h.jsx)(dr,{data:this.props.data,trigger:this.triggerHandler}):null]})}}]),r}(a.Component)),mr=hr,fr=r(38),br=(r(168),function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(o.a)(this,r),(a=t.call(this,e)).state={x:0,video_duration:"Duration Unknown",splash_imgs:null},a}return Object(l.a)(r,[{key:"componentDidUpdate",value:function(){if("Duration Unknown"===this.state.video_duration){var e="";if(this.props.data&&this.props.data.recording.info&&this.props.data.recording.info.movie_exported_duration){var t=parseFloat(this.props.data.recording.info.movie_exported_duration);e=fr.utc(1e3*t).format("HH:mm:ss");var r=fr(e,"hh:mm:ss");e="";var a=r.hours(),n=r.minutes(),s=r.seconds();a?(e+=1===a?a+" hour ":a+" hours ",n&&(e+=1===n?n+" minute ":n+" minutes ")):!a&&n?(e+=1===n?n+" minute ":n+" minutes ",s&&(e+=1===s?s+" second ":s+" seconds ")):a||n||!s?e="[Duration Unknown]":e+=1===s?s+" second ":s+" seconds ",this.setState({video_duration:e})}}if(null===this.state.splash_imgs){var i=[];if(this.props.data&&this.props.data.recording&&this.props.data.recording.info&&this.props.data.recording.info.thumbnails){var o=this.props.data.recording.mediaPrefix+this.props.data.recording.sitekey+"/"+this.props.data.recording.info.thumbnails_folder+"/",l=this.props.data.recording.info.thumbnails.length;if(0===l)alert("zero thumbnails available!");else if(l>=1&&l<=10)for(var c=0;c<l;++c)i.push(o+this.props.data.recording.info.thumbnails[c][0].toString()+".jpg");else{i.push(o+this.props.data.recording.info.thumbnails[0][0].toString()+".jpg");for(var d=Math.floor((l-2)/8),p=1,u=0;u<8;++u)i.push(o+this.props.data.recording.info.thumbnails[p][0].toString()+".jpg"),p+=d;i.push(o+this.props.data.recording.info.thumbnails[l-1][0].toString()+".jpg")}this.setState({splash_imgs:i})}}}},{key:"_onMouseMove",value:function(e){this.setState({x:e.nativeEvent.offsetX})}},{key:"render",value:function(){var e=this.state.x,t=[],r=0;return this.state.splash_imgs&&(t=this.state.splash_imgs,r=320/t.length),Object(h.jsxs)("div",{className:"splashscreen",children:[Object(h.jsxs)("div",{className:"splashscreen-overlay",children:[Object(h.jsxs)("div",{className:"splashscreen-inner",children:[this.props.data.recording.title?Object(h.jsx)("p",{className:"splashscreen-title",children:this.props.data.recording.title}):Object(h.jsx)("p",{className:"splashscreen-title",children:"[Untitled Recording]"}),0===t.length?null:Object(h.jsx)("div",{onMouseMove:this._onMouseMove.bind(this),className:"splashscreen-slide-preview-container",children:t.map((function(t,a){return Object(h.jsx)("img",{className:e>=a*r&&e<(a+1)*r?"splashscreen-img-front":"splashscreen-img",src:t,alt:"splash-image"+a},"splash-image"+a)}))}),Object(h.jsxs)("div",{className:0!==t.length?"splash-align-right":"",children:[this.props.data.recording.description&&Object(h.jsx)("p",{className:"splashscreen-description",children:this.props.data.recording.description}),Object(h.jsxs)("div",{className:"splashscreen-metadata",children:[this.props.data.recording.date&&Object(h.jsxs)("p",{children:["Date Recorded: ",this.props.data.recording.date]}),this.props.data&&this.props.data.recording.info&&Object(h.jsxs)("p",{children:["Length: ",this.state.video_duration]})]})]})]}),Object(h.jsx)("p",{className:"splashscreen-copyright",children:"College of Engineering - University of Michigan"})]}),Object(h.jsx)("span",{className:"play-btn",children:"Play"})]})}}]),r}(a.Component)),gr=["title","titleId"];function vr(){return vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},vr.apply(this,arguments)}function yr(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jr(e,t){var r=e.title,n=e.titleId,s=yr(e,gr);return a.createElement("svg",vr({enableBackground:"new 0 0 16 16",height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),r?a.createElement("title",{id:n},r):null,rr||(rr=a.createElement("g",{fill:"#dedede"},a.createElement("circle",{cx:8,cy:2.197,r:1.801}),a.createElement("circle",{cx:8,cy:13.803,r:1.801}),a.createElement("circle",{cx:13.803,cy:8,r:1.801}),a.createElement("circle",{cx:2.197,cy:8,r:1.801}))))}var wr=a.forwardRef(jr),xr=(r.p,r(169),function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(o.a)(this,r),(a=t.call(this,e)).gotoHandler=function(){window.removeEventListener("hashchange",a.gotoHandler),a.hideSplash();var e=window.location.hash.substring(6);if(isNaN(e)||Number(e)%1!==0)console.error("URL `goto` hash parameter is not valid. It must be an integer representing seconds elapsed since the beginning of the capture.");else{var t=Number(e);console.log("Starting at ".concat(t,"!")),a.props.updatePlayerState({initialTime:t})}},a.hideSplash=function(){a.setState({showSplash:!1})},a.state={showSplash:!0},a}return Object(l.a)(r,[{key:"componentDidMount",value:function(){window.addEventListener("hashchange",this.gotoHandler)}},{key:"componentWillUnmount",value:function(){try{window.removeEventListener("hashchange",this.gotoHandler)}catch(e){}}},{key:"render",value:function(){return Object(h.jsx)("div",{className:"Main layout layout-main layout-loading",children:Object(h.jsx)("div",{className:"content clearfix",onClick:this.hideSplash,children:this.state.showSplash&&this.props.data.embed?Object(h.jsx)(br,{data:this.props.data,updatePlayerState:this.props.updatePlayerState}):[Object(h.jsx)(f,{data:this.props.data},"main1"),Object(h.jsx)(_,{data:this.props.data,updatePlayerState:this.props.updatePlayerState},"main2"),Object(h.jsxs)("div",{className:"content-inner",children:[!1===this.props.data.message&&!1===this.props.data.recording?Object(h.jsx)(kr,{},"main4"):null,!1!==this.props.data.message?Object(h.jsx)(Or,{data:this.props.data},"main5"):null,!1!==this.props.data.recording?Object(h.jsx)(mr,{data:this.props.data,updatePlayerState:this.props.updatePlayerState},"main6"):null]},"main3")]},"content clearfix")})}}]),r}(a.Component)),Or=function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){var e=this.props.data.message;return Object(h.jsx)("div",{className:"notice-outer",children:Object(h.jsxs)("div",{className:"notice-box",children:[Object(h.jsx)("h2",{children:"An error has occurred..."}),Object(h.jsx)("div",{className:"notice-message",children:e.message}),Object(h.jsx)("div",{className:"notice-solution",children:e.solution}),Object(h.jsxs)("div",{className:"notice-contact",children:["For assistance please contact ",Object(h.jsx)("a",{href:"mailto:{modalContent.contact_email}",children:e.contact_email})]})]})})}}]),r}(a.Component),kr=function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){return Object(h.jsx)("div",{className:"notice-outer",children:Object(h.jsxs)("div",{className:"loading-box",children:[Object(h.jsx)(wr,{})," loading"]})})}}]),r}(a.Component),Sr=xr,Hr=function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(o.a)(this,r),(a=t.call(this,e)).heartbeat=function(){!1===a.started&&(a.started=!0,a.logStart(a.props.dynamic.currentTime)),a.heartbeatPaused},a.pauseHeartbeat=function(){console.log("pauseHeartbeat"),a.heartbeatPaused=!0,clearTimeout(a.pauseHeartbeatTID),a.pauseHeartbeatTID=y.delay(1e3,(function(){a.heartbeatPaused=!1}))},a.playHeartbeat=function(){a.heartbeatPaused=!1,a.heartbeat()},a.report=function(){var e=a.secondsWatched(),t=a.percentWatched(),r={viewer_uid:a.viewerUID,seconds:e,percent:t};y.callPost(a.url,r,(function(e){}))},a.checkIn=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=0,r=!1,n=a.props.dynamic.currentTime;if(!1===e&&(a.logEnd(n),a.logStart(n),t=a.secondsWatched()),!0===e||t>0){var s={playing:!a.props.data.paused,time:n||"unknown",error:"",streamingServer:0,type:"React Viewer"},i={viewer_uid:a.viewerUID,seconds:t,percent:a.percentWatched(),checkin:!0,player:JSON.stringify(s)};!0===s.playing?(r=!0,a.pausedCount=0):0===a.pausedCount?(r=!0,a.pausedCount++):a.pausedCount>=4?a.pausedCount=0:a.pausedCount++,a.statsErrorCount>8&&(r=!1),Date.now()-a.lastUpdateSendTime<a.sendPostInterval?r=!1:a.lastUpdateSendTime=Date.now(),!0===r&&y.callPost(a.url,i,(function(e){200!==e.status?a.statsErrorCount++:a.statsErrorCount=0}))}},a.logStart=function(e){0<=e&&e<=a.duration&&(a.lastStart=(new Date).getTime(),a.currentTimeRange={start:e,end:e})},a.logEnd=function(e){0<=e&&e<=a.duration&&(a.currentTimeRange&&e>a.currentTimeRange.start&&((new Date).getTime()-a.lastStart)/1e3>=e-a.currentTimeRange.start-5&&(a.currentTimeRange.end=e,a.timeRanges.push(a.currentTimeRange),a.currentTimeRange=null))},a.secondsWatched=function(){for(var e=0,t=a.timeRanges.length-1;t>=0;t--)e+=a.timeRanges[t].end-a.timeRanges[t].start;return Math.round(e)},a.percentWatched=function(){var e=a.timeRanges.slice();if(e.length<1)return 0;e.sort((function(e,t){return e.start-t.start||t.end-t.start}));var t,r,n,s=e[0],i=s.end-s.start;if(e.length>1)for(r=1;r<e.length;r++)s.start!==e[r].start&&(t=e[r].end-e[r].start,(n=Math.min(s.end,e[r].end)-Math.max(s.start,e[r].start))<0&&(n=0),i+=t-n,s=e[r]);return Math.round(100*i/a.duration)},a.timeRanges=[],a.url=a.props.data.recording.statsURL,a.viewerUID=a.props.data.recording.viewerUID,a.duration=a.props.data.recording.info.movie_exported_duration,a.errorCount=0,a.pausedCount=0,a.started=!1,a.sendPostInterval=0,a.lastUpdateSendTime=0,clearInterval(a.props.statsIID),a.statsIID=y.interval(a.props.data.statsInterval,a.checkIn),a.sendPostInterval=a.props.data.sendPostInterval,a.checkIn(!0),a.heartbeatPaused=!1,a.pauseHeartbeatTID=null,a}return Object(l.a)(r,[{key:"componentDidUpdate",value:function(e,t){this.props.dynamic.currentTime!==e.dynamic.currentTime&&this.heartbeat(),this.props.data.ended!==e.data.ended&&!0===this.props.data.ended&&(this.logEnd(this.props.dynamic.currentTime),this.report())}},{key:"render",value:function(){return null}}]),r}(a.Component),Er=Object(X.b)((function(e){return{dynamic:e.dynamic}}),null,null,{forwardRef:!0})(Hr);u.a.setAppElement("#root");var Pr=function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(e){var a;Object(o.a)(this,r),(a=t.call(this,e)).resize=function(){var e=document,t=e.documentElement,r=e.getElementsByTagName("body")[0],n=window.innerWidth||t.clientWidth||r.clientWidth,s=window.innerHeight||t.clientHeight||r.clientHeight,i=0,o=document.getElementById("title-header");o&&(i=o.offsetHeight-40),a.setState({dimensions:{windowWidth:n,windowHeight:s,extraHeaderHeight:i,wordeditorHeight:100,captionsHeight:80,controlsHeight:39,compactControlsHeight:8,thumbnailsHeight:152}})},a.videoseekHandler=function(e){a.statsRef.current.logEnd(e.detail.from),a.statsRef.current.logStart(e.detail.to)},a.processProductResponse=function(e){if([404,500,503].includes(e.status)){var t=JSON.parse(e.responseText);t.solution.indexOf("@umich")&&(t.solution=""),a.setState({message:t})}if(e.status>=200&&e.status<300){var r=JSON.parse(e.responseText);a.setState({showUnpublishedModal:!r.published});var n={video:0,slides:0,legacyVideo:0,aux:[],whiteboard:[],thumbnailChoices:[]},s=!1,i=[],o=0,l={stage:[],whiteboard:[]};if(+r.info.movie_exported_video_present&&(n.video=1,l.stage.push({name:"Video",visible:!0})),+r.info.movie_exported_slides_present&&(n.slides=1,s=!0,i=["slides",!1],o=r.info.thumbnails.length,n.thumbnailChoices.push(["slides",!1,"Slides"]),+r.info.movie_exported_video_left>0?l.stage.unshift({name:"Slides",visible:!0}):l.stage.push({name:"Slides",visible:!0})),0===n&&0===n.slides&&+r.info.movie_exported_width>0&&+r.info.movie_exported_height>0&&(n.legacyVideo=1,l.stage.push({name:"Video",visible:!0})),r.info.aux_sources&&r.info.aux_sources.length>0)for(var c=0,d=0;d<r.info.aux_sources.length;d++)if(r.info.aux_sources[d].images.length>0)switch(r.info.aux_sources[d].kind){case"display-screen":n.aux.push(r.info.aux_sources[d]),r.info.aux_sources[d].thumbnails.length>0&&(s=!0,(0===i.length||r.info.aux_sources[d].thumbnails.length>1&&1===o)&&(i=["a",d],o=r.info.aux_sources[d].thumbnails.length),n.thumbnailChoices.push(["a",d,r.info.aux_sources[d].name])),l.stage.push({name:r.info.aux_sources[d].name,visible:!0});break;case"writing-surface":n.whiteboard.push(r.info.aux_sources[d]),0===c?l.whiteboard.push({name:r.info.aux_sources[d].name,visible:!0}):l.whiteboard.push({name:r.info.aux_sources[d].name,visible:!1}),r.info.aux_sources[d].thumbnails.length>0&&(s=!0,(0===i.length||r.info.aux_sources[d].thumbnails.length>1&&1===o)&&(i=["w",d],o=r.info.aux_sources[d].thumbnails.length),n.thumbnailChoices.push(["w",d,r.info.aux_sources[d].name])),c++}document.title=r.title,!0===r.canManage&&document.documentElement.classList.add("manager"),!0===a.state.embed&&(s=!1);var p=document,u=p.documentElement,h=p.getElementsByTagName("body")[0];(window.innerWidth||u.clientWidth||h.clientWidth)<501&&(s=!1);var m={sendPostInterval:r.sendPostInterval,supportsCaptions:r.info.captions.length>0,supportsWhiteboard:n.whiteboard.length>0,supportsThumbnails:n.thumbnailChoices.length>0,thumbnails:s,selectedThumbnails:i,enabledPresets:n,visiblePresets:l,baseImageUrl:r.mediaPrefix+r.sitekey+"/"+r.info.slides_folder,recording:r,renderStats:!0};if(r.info.words.length>0){var f=y.checksum(JSON.stringify(r.info.words));if(a.setState({wordChecksum:f}),f===parseInt(y.localStorageGet(r.recordingkey+".wordHash"),10)){var b=y.localStorageGet(r.recordingkey+".lines");try{(b=JSON.parse(b)).length>0&&a.setState({showSavedLineEditsModal:!0,storedLines:b})}catch(g){y.localStorageRemove(r.recordingkey+".wordHash"),y.localStorageRemove(r.recordingkey+".lines")}}else y.localStorageRemove(r.recordingkey+".wordHash"),y.localStorageRemove(r.recordingkey+".lines")}a.setState(m)}},a.toggleFullscreen=function(){if(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen();else{var e=document.getElementById("root");e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()}},a.fullscreenChangeHandler=function(){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?a.setState({fullscreen:!0}):a.setState({fullscreen:!1})},a.selectThingHandler=function(e){a.statsRef.current.pauseHeartbeat()},a.controlseekHandler=function(e){a.statsRef.current.playHeartbeat()},a.discardEditsButtonClick=function(){y.localStorageRemove(a.state.recording.recordingkey+".wordHash"),y.localStorageRemove(a.state.recording.recordingkey+".lines"),a.setState({showSavedLineEditsModal:!1})},a.acknowledgeUnpublishedStateButtonClick=function(){a.setState({showUnpublishedModal:!1})},a.restoreEditsButtonClick=function(){a.setState({lines:a.state.storedLines,showSavedLineEditsModal:!1})},a.state={recording:!1,message:!1,version:"1.0.0",slidePlaceholder:"/leccap/viewer-new/images/slide-placeholder.gif",throttle:!0,statsInterval:15e3,sendPostInterval:15e3,useCanvas:!0,trackPageView:!0,currentRecording:"",showPlaylist:!0,orgLogo:"",showSiteTitle:!0,started:!1,firstFrameLoaded:!1,initialTime:0,duration:0,formattedDuration:"0:00",volume:1,playbackRate:1,paused:!0,seeking:!1,ended:!1,supportsThumbnails:!1,thumbnails:!1,selectedThumbnails:[],controls:!0,wordeditor:!1,transcript:!1,transcripteditor:!1,wordChecksum:!1,lines:[],showSavedLineEditsModal:!1,showSavingLineEditsModal:!1,storedLines:[],supportsCaptions:!1,captions:!1,supportsWhiteboard:!1,fullscreen:!1,dimensions:{windowWidth:640,windowHeight:480},embed:!1,renderStats:!1},a.state.browsercapabilities={fullscreen:!1};var s=new URLSearchParams(window.location.search);if(s.has("start")){var i=s.get("start");if(isNaN(i)||Number(i)%1!==0)console.error("URL `start` parameter is not valid. It must be an integer representing seconds elapsed since the beginning of the capture.");else{var l=Number(i);console.log("Starting at ".concat(l,"!")),a.state.initialTime=l}}var c=window.location.hash;if(c.includes("#goto=")){var d=c.substring(6);if(isNaN(d)||Number(d)%1!==0)console.error("URL `goto` hash parameter is not valid. It must be an integer representing seconds elapsed since the beginning of the capture.");else{var p=Number(d);console.log("Starting at ".concat(p,"!")),a.state.initialTime=p}}return(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)&&(a.state.browsercapabilities.fullscreen=!0),a.statsRef=n.a.createRef(),window.appGlobals={maxFPS:30,minInterval:30},!0===J.chrome()&&(a.state.throttle=!1),window.location!==window.parent.location&&(a.state.embed=!0),a}return Object(l.a)(r,[{key:"componentDidMount",value:function(){document.title="CAEN Lecture Recording System",document.addEventListener("player.resize",this.resize),document.addEventListener("player.togglefullscreen",this.toggleFullscreen),document.addEventListener("player.seek",this.videoseekHandler),document.addEventListener("player.thing.select",this.selectThingHandler),document.addEventListener("player.controls.seek",this.controlseekHandler),document.addEventListener("fullscreenchange",this.fullscreenChangeHandler),document.addEventListener("webkitfullscreenchange",this.fullscreenChangeHandler),document.addEventListener("mozfullscreenchange",this.fullscreenChangeHandler),document.addEventListener("MSFullscreenChange",this.fullscreenChangeHandler),y.callApiGet("product",this.processProductResponse),this.resize()}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("player.resize",this.preventDefault),document.removeEventListener("player.togglefullscreen",this.toggleFullscreen),document.removeEventListener("player.seek",this.videoseekHandler),document.removeEventListener("player.thing.select",this.selectThingHandler),document.removeEventListener("player.controls.seek",this.controlseekHandler),document.removeEventListener("fullscreenchange",this.fullscreenChangeHandler),document.removeEventListener("webkitfullscreenchange",this.fullscreenChangeHandler),document.removeEventListener("mozfullscreenchange",this.fullscreenChangeHandler),document.removeEventListener("MSFullscreenChange",this.fullscreenChangeHandler)}},{key:"updatePlayerState",value:function(e,t){t?this.setState(e,t):this.setState(e)}},{key:"render",value:function(){var e=["App"];return J.mobile()&&e.push("mobile"),J.phone()&&e.push("mobile"),this.state.embed&&e.push("embedded"),Object(h.jsxs)("div",{className:e.join(" "),children:[Object(h.jsx)(Sr,{data:this.state,updatePlayerState:this.updatePlayerState.bind(this)}),this.state.renderStats&&Object(h.jsx)(Er,{data:this.state,ref:this.statsRef}),Object(h.jsxs)(u.a,{isOpen:!0===this.state.showUnpublishedModal,contentLabel:"Recording Not Published",onRequestClose:this.handleCloseModal,shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,className:"modal",overlayClassName:"modal-overlay",children:[Object(h.jsx)("h2",{children:"Recording Not Published "}),Object(h.jsx)("p",{children:"This recording is in an unpublished state, only managers of this site can view it."}),Object(h.jsx)("p",{className:"smaller",children:"Click \u201cManage Recording\u201d to go into the system to publish it."}),Object(h.jsx)("div",{className:"modal-toolbar",children:Object(h.jsx)("button",{onClick:this.acknowledgeUnpublishedStateButtonClick,children:"I understand"})})]}),Object(h.jsxs)(u.a,{isOpen:this.state.showSavingLineEditsModal,contentLabel:"Saving Transcript Edits",onRequestClose:this.handleCloseModal,shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,className:"modal",overlayClassName:"modal-overlay",children:[Object(h.jsx)("h2",{children:"Saving Transcript "}),Object(h.jsx)("p",{children:"Please wait while edits are being saved."}),Object(h.jsx)("p",{className:"smaller",children:"Do not reload this page."})]}),Object(h.jsxs)(u.a,{isOpen:this.state.showSavedLineEditsModal,contentLabel:"Existing Transcript Edits",onRequestClose:this.handleCloseModal,shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,className:"modal",overlayClassName:"modal-overlay",children:[Object(h.jsx)("h2",{children:"Unsaved Transcript Edits"}),Object(h.jsx)("p",{children:"Unsaved transcript edits were found - would you like to restore these edits?"}),Object(h.jsx)("p",{className:"smaller",children:"Use the transcript editor to make these permanent."}),Object(h.jsxs)("div",{className:"modal-toolbar",children:[Object(h.jsx)("button",{className:"btn-danger left",onClick:this.discardEditsButtonClick,children:"Discard Edits"}),Object(h.jsx)("button",{className:"right",onClick:this.restoreEditsButtonClick,children:"Restore Edits"})]})]})]})}}]),r}(a.Component),Rr=(r(170),r(62));console.log=function(){};var Ar=Object(Rr.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;return 0===t.type?Object(B.a)(Object(B.a)({},e),{},{dynamic:Object(B.a)(Object(B.a)({},e.dynamic),t.payload)}):e}));i.a.render(Object(h.jsx)(X.a,{store:Ar,children:Object(h.jsx)(Pr,{})}),document.getElementById("root"))},69:function(e,t,r){},80:function(e,t,r){},81:function(e,t,r){},83:function(e,t,r){},84:function(e,t,r){},86:function(e,t,r){},87:function(e,t,r){},88:function(e,t,r){},89:function(e,t,r){},91:function(e,t,r){},92:function(e,t,r){}},[[171,1,2]]]);
//# sourceMappingURL=main.8902647b.chunk.js.map